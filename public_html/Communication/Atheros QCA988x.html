<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Atheros QCA988x</title>
<!-- 2014-06-12 Thu 20:03 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Shi Shougang" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="../assets/stylesheet.css" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Atheros QCA988x</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">Overview</a></li>
<li><a href="#sec-2">Building the AP135 Image with LSDK</a></li>
</ul>
</div>
</div>
<p>
Qualcom Atheros QCA988x family of chips support <a href="http://en.wikipedia.org/wiki/IEEE%20802.11ac">IEEE 802.11ac</a>.
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Overview</h2>
<div class="outline-text-2" id="text-1">
<p>
现在有如下的支持：
</p>
<ol class="org-ol">
<li><a href="http://wireless.kernel.org/en/users/Drivers/ath10k">ath10k</a>
ath10k is the mac80211 wireless driver for Qualcom Atheros QCA988x
family of chips. Linux 3.11 released, the first kernel release with
ath10k
</li>
<li>LSDK
Qualcom Atheros 自己提供的SDK。
</li>
<li><a href="https://www.codeaurora.org/xwiki/bin/QSDK/">QSDK</a>
The QCA Software Development Kit (QSDK) project allows users to
build an OpenWrt based platform containing additional enhancements
for Qualcomm Atheros chipsets that have not yet made it into the
public OpenWrt repository.
</li>
</ol>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Building the AP135 Image with LSDK</h2>
<div class="outline-text-2" id="text-2">
<p>
如下面链接失败，这里有mirrored source：
<a href="https://www.codeaurora.org/mirrored_source/external/wfr/">https://www.codeaurora.org/mirrored_source/external/wfr/</a>
</p>

<ol class="org-ol">
<li>As a prerequisite to building and using AP135 images, extract these
tar balls into a directory for the build to take place:
<div class="org-src-container">

<pre class="src src-sh">tar xvfz LSDK-10.1.354.tgz
</pre>
</div>
<p>
Contains the basic Open Source Linux support required for the basic
and extended builds; includes cross compilers, boot loaders, file
system images, Ethernet driver, and script files
</p>
<div class="org-src-container">

<pre class="src src-sh">tar xvfz LSDK-PATCH-10.1.354.tgz
</pre>
</div>
<p>
Contains the Qualcomm Atheros patches for linux-2.6.31, U-Boot, and
LSDK。
</p>
</li>

<li>Download linux-2.6.31 open source and place in ~/10.1/patches:
   <a href="http://www.kernel.org/pub/linux/kernel/v2.6/linux-2.6.31.tar.bz2">http://www.kernel.org/pub/linux/kernel/v2.6/linux-2.6.31.tar.bz2</a>
</li>

<li>Download the LZMA patch and place in ~/10.1/patches:
   <a href="http://projects.qi-hardware.com/index.php/p/openwrt-xburst/source/file/715bc925855760ced69162f6242fc0704b42e939/target/linux/generic/patches-2.6.32/008-jffs2_make_lzma_available.patch">http://projects.qi-hardware.com/index.php/p/openwrt-xburst/source/file/715bc925855760ced69162f6242fc0704b42e939/target/linux/generic/patches-2.6.32/008-jffs2_make_lzma_available.patch</a>
</li>

<li>Download the IMQ patch and place in ~/10.1/patches:
   <a href="https://raw.githubusercontent.com/imq/linuximq/master/kernel/v2.6/linux-2.6.31.6-imq.diff">https://raw.githubusercontent.com/imq/linuximq/master/kernel/v2.6/linux-2.6.31.6-imq.diff</a>
</li>

<li>Download the squashfs patches listed below and place in
~/10.1/patches: 
<ul class="org-ul">
<li><a href="https://dev.openwrt.org/export/20552/trunk/target/linux/generic-2.6/patches-2.6.33/001-squashfs_move_zlib_decomp.patch">https://dev.openwrt.org/export/20552/trunk/target/linux/generic-2.6/patches-2.6.33/001-squashfs_move_zlib_decomp.patch</a>
</li>
<li><a href="https://dev.openwrt.org/export/26908/trunk/target/linux/generic/patches-2.6.30/002-squashfs_factor_out_remaining_zlib.patch">https://dev.openwrt.org/export/26908/trunk/target/linux/generic/patches-2.6.30/002-squashfs_factor_out_remaining_zlib.patch</a>
</li>
<li><a href="https://dev.openwrt.org/export/18267/trunk/target/linux/generic-2.6/patches-2.6.30/003-squashfs_add_decompressor_framework.patch">https://dev.openwrt.org/export/18267/trunk/target/linux/generic-2.6/patches-2.6.30/003-squashfs_add_decompressor_framework.patch</a>
</li>
<li><a href="https://dev.openwrt.org/export/27179/trunk/target/linux/generic/patches-2.6.32/004-squashfs_add_decompressor_lzma_lzo.patch">https://dev.openwrt.org/export/27179/trunk/target/linux/generic/patches-2.6.32/004-squashfs_add_decompressor_lzma_lzo.patch</a>
</li>
<li><a href="https://dev.openwrt.org/export/19905/trunk/target/linux/generic-2.6/patches-2.6.33/005-squashfs_extra_parameter.patch">https://dev.openwrt.org/export/19905/trunk/target/linux/generic-2.6/patches-2.6.33/005-squashfs_extra_parameter.patch</a>
</li>
<li><a href="https://dev.openwrt.org/export/19905/trunk/target/linux/generic-2.6/patches-2.6.33/006-squashfs_add_lzma.patch">https://dev.openwrt.org/export/19905/trunk/target/linux/generic-2.6/patches-2.6.33/006-squashfs_add_lzma.patch</a>
</li>
<li><a href="https://dev.openwrt.org/export/20140/trunk/target/linux/generic-2.6/patches-2.6.34/007-squashfs_make_lzma_available.patch">https://dev.openwrt.org/export/20140/trunk/target/linux/generic-2.6/patches-2.6.34/007-squashfs_make_lzma_available.patch</a>
</li>
</ul>
</li>

<li>Download u-boot-1.1.4 open source and place in ~/10.1/patches:
   <a href="ftp://ftp.denx.de/pub/u-boot/OLD/u-boot-2006-04-06-1725.tar.bz2">ftp://ftp.denx.de/pub/u-boot/OLD/u-boot-2006-04-06-1725.tar.bz2</a>
</li>

<li>Download lzma Decompression patch for u-boot and place in
~/10.1/patches:
<a href="https://dev.openwrt.org/export/11248/trunk/target/linux/avr32/image/u-boot/patches/001-add_lzma_decompression_support.patch">https://dev.openwrt.org/export/11248/trunk/target/linux/avr32/image/u-boot/patches/001-add_lzma_decompression_support.patch</a>
</li>

<li>Download the lib<sub>bootstrap</sub> code and place in ~/10.1/patches:
<ul class="org-ul">
<li><a href="https://github.com/Arx-Alliance/Arx-Kamikaze/archive/5d8753b8e92c16d570386e0b29536534134fdf88.zip">https://github.com/Arx-Alliance/Arx-Kamikaze/archive/5d8753b8e92c16d570386e0b29536534134fdf88.zip</a>
</li>
<li><a href="https://github.com/Arx-Alliance/Arx-Kamikaze/archive/5d8753b8e92c16d570386e0b29536534134fdf88.zip">https://github.com/Arx-Alliance/Arx-Kamikaze/archive/5d8753b8e92c16d570386e0b29536534134fdf88.zip</a>
</li>
<li><a href="https://www.codeaurora.org/mirrored_source/external/wfr/5d8753b8e92c16d570386e0b29536534134fdf88.zip">https://www.codeaurora.org/mirrored_source/external/wfr/5d8753b8e92c16d570386e0b29536534134fdf88.zip</a>
</li>
</ul>
</li>

<li>Download these LSDK-build open source tar balls and place in ~/10.1/patches:
<ul class="org-ul">
<li><a href="http://buildroot.uclibc.org/downloads/buildroot-2009.08.tar.bz2">http://buildroot.uclibc.org/downloads/buildroot-2009.08.tar.bz2</a>
</li>
<li><a href="http://www.busybox.net/downloads/busybox-1.01.tar.bz2">http://www.busybox.net/downloads/busybox-1.01.tar.bz2</a>
</li>
<li><a href="http://www.busybox.net/downloads/busybox-1.15.0.tar.bz2">http://www.busybox.net/downloads/busybox-1.15.0.tar.bz2</a>
</li>
<li><a href="http://www.netfilter.org/projects/iptables/files/iptables-1.4.5.tar.bz2">http://www.netfilter.org/projects/iptables/files/iptables-1.4.5.tar.bz2</a>
</li>
<li><a href="http://sourceforge.net/projects/sevenzip/files/LZMA%20SDK/4.57/lzma457.tar.bz2">http://sourceforge.net/projects/sevenzip/files/LZMA%20SDK/4.57/lzma457.tar.bz2</a>
</li>
<li><a href="http://perso.orange.fr/sebastien.godard/sysstat-6.0.1.tar.bz2">http://perso.orange.fr/sebastien.godard/sysstat-6.0.1.tar.bz2</a>
</li>
<li><a href="http://www.hpl.hp.com/personal/Jean_Tourrilhes/Linux/wireless_tools.29.tar.gz">http://www.hpl.hp.com/personal/Jean_Tourrilhes/Linux/wireless_tools.29.tar.gz</a>
</li>
<li><a href="http://sourceforge.net/projects/genext2fs/files/genext2fs/1.4.1/genext2fs-1.4.1.tar.gz">http://sourceforge.net/projects/genext2fs/files/genext2fs/1.4.1/genext2fs-1.4.1.tar.gz</a>
</li>
<li><a href="ftp://ftp.infradead.org/pub/mtd-utils/mtd-utils-1.0.1.tar.gz">ftp://ftp.infradead.org/pub/mtd-utils/mtd-utils-1.0.1.tar.gz</a>
</li>
</ul>
</li>

<li>Download the busy box brctl command patch and place in ~/10.1/patches:
<ul class="org-ul">
<li><a href="http://gpl.back2roots.org/source/puma5/netgear/CG3200-1TDNDS_GPL/ap/apps/busybox-1.01/bb-brctl.patch">http://gpl.back2roots.org/source/puma5/netgear/CG3200-1TDNDS_GPL/ap/apps/busybox-1.01/bb-brctl.patch</a>
</li>
<li><a href="https://www.codeaurora.org/mirrored_source/external/wfr/bb-brctl.patch">https://www.codeaurora.org/mirrored_source/external/wfr/bb-brctl.patch</a>
</li>
</ul>
</li>

<li>Install additional packages, they are required for Atheros
reference design:
<div class="org-src-container">

<pre class="src src-sh">sudo apt-get install libacl1-dev                        <span style="color: #ff7f24;">#</span><span style="color: #ff7f24;">yum install libacl-devel</span>
sudo apt-get install zlib1g-dev                                 <span style="color: #ff7f24;">#</span><span style="color: #ff7f24;">yum install zlib-devel</span>
sudo apt-get install build-essential                    <span style="color: #ff7f24;">#</span><span style="color: #ff7f24;">yum groupinstall 'Development Tools' 'Development Libraries'</span>
sudo apt-get install bison
sudo apt-get install flex
sudo apt-get install gettext
sudo apt-get install tcl                                                <span style="color: #ff7f24;"># </span><span style="color: #ff7f24;">yum install tcl</span>
sudo apt-get install sharutils
sudo apt-get install libncurses-dev                             <span style="color: #ff7f24;"># </span><span style="color: #ff7f24;">yum install ncurses-devel</span>
sudo apt-get install exuberant-ctags                    <span style="color: #ff7f24;"># </span><span style="color: #ff7f24;">yum install ctags</span>
</pre>
</div>
</li>
<li>Run patch.pl in ~/10.1/patches.
</li>
<li>Extract the remaining tar balls included in the package in the same manner as previous releases:
<ul class="org-ul">
<li>tar xzvf LSDK-WLAN-10.1.354.tgz
</li>
<li>tar xzvf LSDK-SPECTRAL-10.1.354.tgz
</li>
</ul>
</li>
<li>Acceptable permissions values may need to be set using the
command: <code>chmod -R 755 &lt;ROOT_BUILD_DIRECTORY&gt;</code>
</li>

<li>Build the targets: <code>cd build make BOARD_TYPE=ap135 11AC_OFFLOAD=1</code>
</li>
</ol>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Shi Shougang</p>
<p class="date">Created: 2014-06-12 Thu 20:03</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 24.3.50.1 (<a href="http://orgmode.org">Org</a> mode 8.2.3a)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
