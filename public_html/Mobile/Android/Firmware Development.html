<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Firmware Development</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<meta name="title" content="Firmware Development"/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="2013-05-05T10:13+0800"/>
<meta name="author" content="Shi Shougang"/>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  html { font-family: Times, serif; font-size: 12pt; }
  .title  { text-align: center; }
  .todo   { color: red; }
  .done   { color: green; }
  .tag    { background-color: #add8e6; font-weight:normal }
  .target { }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  {margin-left:auto; margin-right:0px;  text-align:right;}
  .left   {margin-left:0px;  margin-right:auto; text-align:left;}
  .center {margin-left:auto; margin-right:auto; text-align:center;}
  p.verse { margin-left: 3% }
  pre {
	border: 1pt solid #AEBDCC;
	background-color: #F3F5F7;
	padding: 5pt;
	font-family: courier, monospace;
        font-size: 90%;
        overflow:auto;
  }
  table { border-collapse: collapse; }
  td, th { vertical-align: top;  }
  th.right  { text-align:center;  }
  th.left   { text-align:center;   }
  th.center { text-align:center; }
  td.right  { text-align:right;  }
  td.left   { text-align:left;   }
  td.center { text-align:center; }
  dt { font-weight: bold; }
  div.figure { padding: 0.5em; }
  div.figure p { text-align: center; }
  div.inlinetask {
    padding:10px;
    border:2px solid gray;
    margin:10px;
    background: #ffffcc;
  }
  textarea { overflow-x: auto; }
  .linenr { font-size:smaller }
  .code-highlighted {background-color:#ffff00;}
  .org-info-js_info-navigation { border-style:none; }
  #org-info-js_console-label { font-size:10px; font-weight:bold;
                               white-space:nowrap; }
  .org-info-js_search-highlight {background-color:#ffff00; color:#000000;
                                 font-weight:bold; }
  /*]]>*/-->
</style><link rel="stylesheet" href="./assets/stylesheet.css" type="text/css"/>
<link rel="stylesheet" type="text/css" href="../../assets/stylesheet.css" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>

</head>
<body>
<div id="org-div-home-and-up" style="text-align:right;font-size:70%;white-space:nowrap;">
 <a accesskey="h" href="../../index.html"> UP </a>
 |
 <a accesskey="H" href="../../index.html"> HOME </a>
</div>

<div id="preamble">

</div>

<div id="content">
<h1 class="title">Firmware Development</h1>

<p><a href="http://wiki.cyanogenmod.org/w/Development#The_CyanogenMod_Dev_Center">http://wiki.cyanogenmod.org/w/Development#The_CyanogenMod_Dev_Center</a>
</p>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">Overview</a>
<ul>
<li><a href="#sec-1-1">http://www.virtuousrom.com/p/roms.html</a></li>
<li><a href="#sec-1-2">CyanogenMod</a></li>
<li><a href="#sec-1-3">Blog</a></li>
</ul>
</li>
<li><a href="#sec-2">Note</a>
<ul>
<li><a href="#sec-2-1">port devices</a></li>
<li><a href="#sec-2-2">CM IRC channels</a>
<ul>
<li><a href="#sec-2-2-1">Register an alias/nickname on NickServ</a></li>
<li><a href="#sec-2-2-2">CyanogenMod-related channel list</a></li>
<li><a href="#sec-2-2-3">Other channels with ties to CM</a></li>
</ul>
</li>
<li><a href="#sec-2-3">Some commands</a></li>
</ul>
</li>
<li><a href="#sec-3">Blog</a>
<ul>
<li><a href="#sec-3-1">The init process and init.rc</a></li>
<li><a href="#sec-3-2">Android project build system</a></li>
<li><a href="#sec-3-3">Android Build System</a></li>
</ul>
</li>
<li><a href="#sec-4">cyanogenmode notes</a>
<ul>
<li><a href="#sec-4-1">The "edify" scripting language – how .zip files work</a>
<ul>
<li><a href="#sec-4-1-1">Overview</a></li>
<li><a href="#sec-4-1-2">edify files</a></li>
<li><a href="#sec-4-1-3">Play with existing Scripts</a></li>
<li><a href="#sec-4-1-4">Read the edify source code</a></li>
<li><a href="#sec-4-1-5">Additional resources</a></li>
</ul>
</li>
<li><a href="#sec-4-2">External Android Development Resources (Master List) – The Internet Helps You Learn. Free links that teach Java, C, C++, and all things Android</a>
<ul>
<li><a href="#sec-4-2-1">Learn about the build system (GNU Make)</a></li>
<li><a href="#sec-4-2-2">Learn about the Android kernel (based on the Linux kernel)</a></li>
<li><a href="#sec-4-2-3">Learn about the Android Frameworks</a></li>
</ul>
</li>
<li><a href="#sec-4-3">Team member</a></li>
<li><a href="#sec-4-4">adb intro</a>
<ul>
<li><a href="#sec-4-4-1">What is adb?</a></li>
<li><a href="#sec-4-4-2">Popular adb commands</a></li>
<li><a href="#sec-4-4-3">"Device not found" errors</a></li>
<li><a href="#sec-4-4-4">Adb &ndash;help</a></li>
</ul>
</li>
<li><a href="#sec-4-5">fastboot intro</a>
<ul>
<li><a href="#sec-4-5-1">A brief introduction to fastboot</a></li>
<li><a href="#sec-4-5-2">Installing recovery using fastboot</a></li>
</ul>
</li>
<li><a href="#sec-4-6">debugging with logcat</a>
<ul>
<li><a href="#sec-4-6-1">A bit about logcat</a></li>
<li><a href="#sec-4-6-2">Filtering</a></li>
<li><a href="#sec-4-6-3">Color</a></li>
<li><a href="#sec-4-6-4">Logcat for Bugtracker(On devices)</a></li>
</ul>
</li>
<li><a href="#sec-4-7">glossary</a>
<ul>
<li><a href="#sec-4-7-1">Bloatware</a></li>
<li><a href="#sec-4-7-2">BFS</a></li>
<li><a href="#sec-4-7-3">SuperCID</a></li>
<li><a href="#sec-4-7-4">Vanilla</a></li>
<li><a href="#sec-4-7-5">-&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;android-------------</a></li>
<li><a href="#sec-4-7-6">-&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;Hacking Definitions---------------</a></li>
<li><a href="#sec-4-7-7">Aftermarket</a></li>
<li><a href="#sec-4-7-8">Exploit</a></li>
<li><a href="#sec-4-7-9">Flashing</a></li>
<li><a href="#sec-4-7-10">Kang</a></li>
</ul>
</li>
<li><a href="#sec-4-8">Envsetup help</a>
<ul>
<li><a href="#sec-4-8-1">lunch</a></li>
<li><a href="#sec-4-8-2">brunch</a></li>
</ul>
</li>
<li><a href="#sec-4-9">Basic concepts</a>
<ul>
<li><a href="#sec-4-9-1">S-OFF (Security OFF) Mode</a></li>
</ul>
</li>
<li><a href="#sec-4-10">All About Recovery Images</a>
<ul>
<li><a href="#sec-4-10-1">Overview</a></li>
<li><a href="#sec-4-10-2">Popular Recoveries</a></li>
</ul>
</li>
<li><a href="#sec-4-11">Doc: more concepts</a>
<ul>
<li><a href="#sec-4-11-1">Common Partitions and directories</a></li>
</ul>
</li>
<li><a href="#sec-4-12">Building Basics</a>
<ul>
<li><a href="#sec-4-12-1">The $OUT directory</a></li>
<li><a href="#sec-4-12-2">Commands</a></li>
</ul>
</li>
<li><a href="#sec-4-13">using gerrit</a>
<ul>
<li><a href="#sec-4-13-1">Submitting to Gerrit</a></li>
<li><a href="#sec-4-13-2">Uploading your changes</a></li>
<li><a href="#sec-4-13-3">example</a></li>
</ul>
</li>
<li><a href="#sec-4-14">Doc: eclipse</a></li>
<li><a href="#sec-4-15">About local manifests – Add, remove, or replace source code repositories with local<sub>manifest</sub>.xml</a>
<ul>
<li><a href="#sec-4-15-1">Overriding the manifest</a></li>
</ul>
</li>
<li><a href="#sec-4-16">Recreating CM Releases with Manifests – How to build for your device exactly like the buildbots do.</a></li>
<li><a href="#sec-4-17">"make clean" vs. "make clobber"</a>
<ul>
<li><a href="#sec-4-17-1">make clean</a></li>
<li><a href="#sec-4-17-2">make clobber</a></li>
<li><a href="#sec-4-17-3">When to do a make clobber</a></li>
</ul>
</li>
<li><a href="#sec-4-18">Doc: the cm source</a>
<ul>
<li><a href="#sec-4-18-1">bionic/</a></li>
<li><a href="#sec-4-18-2">build/</a></li>
<li><a href="#sec-4-18-3">bootable/</a></li>
<li><a href="#sec-4-18-4">dalvik/</a></li>
<li><a href="#sec-4-18-5">device/</a></li>
<li><a href="#sec-4-18-6">docs/</a></li>
<li><a href="#sec-4-18-7">external/</a></li>
<li><a href="#sec-4-18-8">frameworks/</a></li>
<li><a href="#sec-4-18-9">hardware/</a></li>
<li><a href="#sec-4-18-10">kernel/</a></li>
<li><a href="#sec-4-18-11">ndk/</a></li>
<li><a href="#sec-4-18-12">packages/</a></li>
<li><a href="#sec-4-18-13">prebuilt/ (and prebuilts/)</a></li>
<li><a href="#sec-4-18-14">system/</a></li>
<li><a href="#sec-4-18-15">vendor/</a></li>
</ul>
</li>
<li><a href="#sec-4-19">After You Build</a></li>
<li><a href="#sec-4-20">adding your own app</a>
<ul>
<li><a href="#sec-4-20-1">The "easy" way&ndash; Add it to the zip manually</a></li>
<li><a href="#sec-4-20-2">The "right" way: Make a part of the build repository so it auto-builds</a>
<ul>
<li><a href="#sec-4-20-2-1">Add app source to /packages/apps</a></li>
<li><a href="#sec-4-20-2-2">Determine the name of the project from Android.mk</a></li>
<li><a href="#sec-4-20-2-3">Add the project to device.mk (or whatever .mk) in the device folder</a></li>
</ul></li>
</ul>
</li>
<li><a href="#sec-4-21">porting intro</a>
<ul>
<li><a href="#sec-4-21-1">Prerequisites</a></li>
<li><a href="#sec-4-21-2">Collect information about your device</a></li>
<li><a href="#sec-4-21-3">Look at the device's current /system/build.prop</a></li>
<li><a href="#sec-4-21-4">Examine boot.img and recovery.img</a></li>
<li><a href="#sec-4-21-5">Determine the partition scheme</a></li>
<li><a href="#sec-4-21-6">Set up three new directories</a>
<ul>
<li><a href="#sec-4-21-6-1">Method 1: Use <code>mkvendor.sh</code> to generate skeleton files</a></li>
<li><a href="#sec-4-21-6-2">Method 2: Fork a similar device's git repository</a></li>
<li><a href="#sec-4-21-6-3">Method 3: create the directories and files manually</a></li>
</ul>
</li>
<li><a href="#sec-4-21-7">Customize the files</a>
<ul>
<li><a href="#sec-4-21-7-1">BoardConfig.mk</a></li>
<li><a href="#sec-4-21-7-2">device<sub>[codename]</sub>.mk</a></li>
<li><a href="#sec-4-21-7-3">kernel</a></li>
<li><a href="#sec-4-21-7-4">cm.mk</a></li>
<li><a href="#sec-4-21-7-5">recovery.fstab</a></li>
</ul>
</li>
<li><a href="#sec-4-21-8">Then build a test recovery image</a></li>
<li><a href="#sec-4-21-9">Adjust recovery<sub>ui</sub>.cpp if necessary</a></li>
<li><a href="#sec-4-21-10">Put your device folder in github, and use a local manifest to automatically sync it with repo sync</a></li>
<li><a href="#sec-4-21-11">Add the blobs to the vendor/ directory</a></li>
<li><a href="#sec-4-21-12">Now revise the device/ directory</a></li>
<li><a href="#sec-4-21-13">Getting help from the manufacturers &amp; vendors</a></li>
<li><a href="#sec-4-21-14">Adding XML Overlays</a></li>
</ul>
</li>
<li><a href="#sec-4-22">Android-Porting &ndash; the official Google Group on this topic</a></li>
<li><a href="#sec-4-23">Integrated Kernel Building – some info about CM's automatic kernel-building.</a>
<ul>
<li><a href="#sec-4-23-1">Deploying the kernel source at the proper location</a>
<ul>
<li><a href="#sec-4-23-1-1">Officially supported devices</a></li>
<li><a href="#sec-4-23-1-2">Work-in-progress, unofficial, or otherwise non-integrated devices</a></li>
<li><a href="#sec-4-23-1-3">Devices using shared kernel repositories</a></li>
</ul>
</li>
<li><a href="#sec-4-23-2">Configuring the device to build the kernel</a></li>
<li><a href="#sec-4-23-3">Building out-of-tree kernel modules</a></li>
<li><a href="#sec-4-23-4">Fallback to prebuilts</a></li>
<li><a href="#sec-4-23-5">Full example</a></li>
</ul>
</li>
<li><a href="#sec-4-24">Submitting A Port – How to get your port to a new device accepted as "official"</a>
<ul>
<li><a href="#sec-4-24-1">Prerequisites</a></li>
<li><a href="#sec-4-24-2">Submitting your device</a></li>
</ul>
</li>
<li><a href="#sec-4-25">Configure SSH access on your device (Legacy - CM7)</a>
<ul>
<li><a href="#sec-4-25-1">Dropbear</a></li>
<li><a href="#sec-4-25-2">Create a SSH key for logging in</a></li>
<li><a href="#sec-4-25-3">Prepare the Android Device</a></li>
<li><a href="#sec-4-25-4">Finding the IP address of your Android device</a></li>
<li><a href="#sec-4-25-5">Testing Dropbear</a></li>
<li><a href="#sec-4-25-6">Running dropbear normally</a></li>
<li><a href="#sec-4-25-7">Automatic startup of the sshd-server on your device</a></li>
</ul>
</li>
<li><a href="#sec-4-26">Some Tips – how to skip gerrit and push straight to the repo.</a>
<ul>
<li><a href="#sec-4-26-1">To bypass Gerrit:</a></li>
<li><a href="#sec-4-26-2">To mass-push commits to Gerrit for review</a></li>
<li><a href="#sec-4-26-3">To create a new remote branch (on github)</a></li>
</ul>
</li>
<li><a href="#sec-4-27">Barebones</a>
<ul>
<li><a href="#sec-4-27-1">Backup apks</a></li>
<li><a href="#sec-4-27-2">find applications</a></li>
<li><a href="#sec-4-27-3">remove applications</a></li>
<li><a href="#sec-4-27-4">reinstall applications</a></li>
</ul>
</li>
<li><a href="#sec-4-28">ClockWorkMod Instructions</a>
<ul>
<li><a href="#sec-4-28-1">Backup and Restore Your Device</a></li>
</ul>
</li>
<li><a href="#sec-4-29">Unofficial Ports</a></li>
<li><a href="#sec-4-30">The JIRA project management system</a></li>
<li><a href="#sec-4-31">View the latest accepted changes</a></li>
</ul>
</li>
<li><a href="#sec-5">Setting up a Virtual Machine for CyanogenMod development</a></li>
<li><a href="#sec-6">android open source project</a>
<ul>
<li><a href="#sec-6-1">more</a></li>
<li><a href="#sec-6-2">Version Control with Repo and Git</a>
<ul>
<li><a href="#sec-6-2-1">Basic Workflow</a></li>
<li><a href="#sec-6-2-2">Task reference</a></li>
</ul>
</li>
<li><a href="#sec-6-3">Using Eclipse</a></li>
<li><a href="#sec-6-4">Android.mk file syntax specification</a></li>
</ul>
</li>
<li><a href="#sec-7">XDA's wiki page</a></li>
<li><a href="#sec-8">Rootwiki</a></li>
<li><a href="#sec-9">dd</a></li>
</ul>
</div>
</div>

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1">Overview</h2>
<div class="outline-text-2" id="text-1">


</div>

<div id="outline-container-1-1" class="outline-3">
<h3 id="sec-1-1"><a href="http://www.virtuousrom.com/p/roms.html">http://www.virtuousrom.com/p/roms.html</a></h3>
<div class="outline-text-3" id="text-1-1">

</div>

</div>

<div id="outline-container-1-2" class="outline-3">
<h3 id="sec-1-2">CyanogenMod</h3>
<div class="outline-text-3" id="text-1-2">

<p>CyanogenMod is an aftermarket firmware for a number of cell phones
based on the open-source Android operating system.
</p>
<ul>
<li><a href="https://github.com/CyanogenMod">https://github.com/CyanogenMod</a>
</li>
<li><a href="http://www.cyanogenmod.com/">http://www.cyanogenmod.com/</a>
</li>
<li>Gerrit - <a href="http://r.cyanogenmod.com/">http://r.cyanogenmod.com/</a>
</li>
<li>Freenote - #cyanogenmod (-dev)
</li>
<li>Forum - <a href="http://forum.cyanogenmod.com/">http://forum.cyanogenmod.com/</a>
</li>
<li>Wiki - <a href="http://wiki.cyanogenmod.com/">http://wiki.cyanogenmod.com/</a>
</li>
</ul>


</div>

</div>

<div id="outline-container-1-3" class="outline-3">
<h3 id="sec-1-3">Blog</h3>
<div class="outline-text-3" id="text-1-3">

<ul>
<li><a href="http://www.androidenea.com/2009/08/init-process-and-initrc.html">http://www.androidenea.com/2009/08/init-process-and-initrc.html</a>
</li>
</ul>


</div>
</div>

</div>

<div id="outline-container-2" class="outline-2">
<h2 id="sec-2">Note</h2>
<div class="outline-text-2" id="text-2">


</div>

<div id="outline-container-2-1" class="outline-3">
<h3 id="sec-2-1">port devices</h3>
<div class="outline-text-3" id="text-2-1">

<p>device/&lt;vendor&gt;/&lt;codename&gt;
</p>
<p>
kernel/&lt;vendor&gt;/&lt;codename&gt;
</p>
<p>
vendor/&lt;vendor&gt;/&lt;codename&gt;
</p></div>

</div>

<div id="outline-container-2-2" class="outline-3">
<h3 id="sec-2-2">CM IRC channels</h3>
<div class="outline-text-3" id="text-2-2">

<p><a href="http://wiki.cyanogenmod.org/w/IRC">http://wiki.cyanogenmod.org/w/IRC</a>
</p>
</div>

<div id="outline-container-2-2-1" class="outline-4">
<h4 id="sec-2-2-1">Register an alias/nickname on NickServ</h4>
<div class="outline-text-4" id="text-2-2-1">

<ol>
<li>click on the following link to connect to irc.freenode.net. Use a unique nick while joining.
    Freenode Web Chat: <a href="http://webchat.freenode.net/">http://webchat.freenode.net/</a>
</li>
<li>Enter the following command in the message bar:
    <code>/msg NickServ register &lt;password&gt; &lt;email-address&gt;</code>
</li>
<li>You should now recieve an e-mail from NickServ at the email address
   you provided. Follow the instructions in that email.

</li>
<li>For future logins you can enter the following command to authenticate your registered nick
    <code>/msg NickServ identify &lt;password&gt;</code>
</li>
<li>To join a new channel
    <code>/join #&lt;channel name&gt;</code>
     eg to join #cyanogenmod use: <code>/join #cyanogenmod</code>
</li>
</ol>

</div>

</div>

<div id="outline-container-2-2-2" class="outline-4">
<h4 id="sec-2-2-2">CyanogenMod-related channel list</h4>
<div class="outline-text-4" id="text-2-2-2">

<ul>
<li>#cyanogenmod
</li>
<li>#cyanogenmod-dev
</li>
<li>#cm-wiki
</li>
</ul>

</div>

</div>

<div id="outline-container-2-2-3" class="outline-4">
<h4 id="sec-2-2-3">Other channels with ties to CM</h4>
<div class="outline-text-4" id="text-2-2-3">

<ul>
<li>#teamhacksung-support
</li>
<li>#cyanogenmod-touchpad
</li>
<li>#nookcolor
</li>
<li>#nook-tablet
</li>
<li>#koush
</li>
<li>#teamwin
</li>
<li>#android-root
</li>
</ul>


</div>
</div>

</div>

<div id="outline-container-2-3" class="outline-3">
<h3 id="sec-2-3">Some commands</h3>
<div class="outline-text-3" id="text-2-3">

<p>$ adb reboot bootloader
</p>
</div>
</div>

</div>

<div id="outline-container-3" class="outline-2">
<h2 id="sec-3">Blog</h2>
<div class="outline-text-2" id="text-3">


</div>

<div id="outline-container-3-1" class="outline-3">
<h3 id="sec-3-1">The init process and init.rc</h3>
<div class="outline-text-3" id="text-3-1">

<p><a href="http://www.androidenea.com/2009/08/init-process-and-initrc.html">http://www.androidenea.com/2009/08/init-process-and-initrc.html</a>
</p>
</div>

</div>

<div id="outline-container-3-2" class="outline-3">
<h3 id="sec-3-2">Android project build system</h3>
<div class="outline-text-3" id="text-3-2">

<p><a href="http://ericdev.blogspot.hk/2010/06/cc-closer-look-at-android-project-build.html">http://ericdev.blogspot.hk/2010/06/cc-closer-look-at-android-project-build.html</a>
</p>
</div>

</div>

<div id="outline-container-3-3" class="outline-3">
<h3 id="sec-3-3">Android Build System</h3>
<div class="outline-text-3" id="text-3-3">

<p><a href="http://elinux.org/Android_Build_System">http://elinux.org/Android_Build_System</a>
</p></div>
</div>

</div>

<div id="outline-container-4" class="outline-2">
<h2 id="sec-4">cyanogenmode notes</h2>
<div class="outline-text-2" id="text-4">


</div>

<div id="outline-container-4-1" class="outline-3">
<h3 id="sec-4-1">The "edify" scripting language – how .zip files work</h3>
<div class="outline-text-3" id="text-4-1">

<p>   <a href="http://wiki.cyanogenmod.org/w/Doc:_About_Edify">http://wiki.cyanogenmod.org/w/Doc:_About_Edify</a>
</p>
</div>

<div id="outline-container-4-1-1" class="outline-4">
<h4 id="sec-4-1-1">Overview</h4>
<div class="outline-text-4" id="text-4-1-1">

<p>edify is a simple scripting language that is used to install
CyanogenMod (and other software) from a .zip file. The edify script
does not necessarily need to be used to flash a firmware however. 
</p>
<p>
Typically, the edify script is run in recovery mode when the user
chooses to "flash a zip".
</p>
</div>

</div>

<div id="outline-container-4-1-2" class="outline-4">
<h4 id="sec-4-1-2">edify files</h4>
<div class="outline-text-4" id="text-4-1-2">

<p>There are typically two parts to an edify script. These two files are
usually found within the .zip file in the /META-INF/com/google/android
directory.
</p><ul>
<li>update-binary &ndash; the binary interpreter that is executed when the
  user selects the .zip to be flashed, typically from recovery mode.
  This binary loads the updater-script into memory and follows the
  instructions contained within.
</li>
<li>updater-script &ndash; the script itself, which is a text file.
</li>
</ul>


</div>

</div>

<div id="outline-container-4-1-3" class="outline-4">
<h4 id="sec-4-1-3">Play with existing Scripts</h4>
<div class="outline-text-4" id="text-4-1-3">

<p>One way to learn about edify is by examining and modifying existing
edify scripts. By looking at the scripts themselves, you may be able
to figure out how they work. Then, by modifying the code right on the
.zip and flashing it to your device, you can test your custom scripts.
</p>
</div>

</div>

<div id="outline-container-4-1-4" class="outline-4">
<h4 id="sec-4-1-4">Read the edify source code</h4>
<div class="outline-text-4" id="text-4-1-4">

<ul>
<li>The main tool used to generate the edify scripts is
  <a href="https://github.com/CyanogenMod/android_build/blob/cm-10.1/tools/releasetools/edify_generator.py">https://github.com/CyanogenMod/android_build/blob/cm-10.1/tools/releasetools/edify_generator.py</a>

</li>
<li>the source for the language interpreter is 
    <a href="https://github.com/CyanogenMod/android_bootable_recovery/tree/jellybean/edify">https://github.com/CyanogenMod/android_bootable_recovery/tree/jellybean/edify</a>

</li>
<li>README
   <a href="https://github.com/CyanogenMod/android_bootable_recovery/blob/cm-10.1/edify/README">https://github.com/CyanogenMod/android_bootable_recovery/blob/cm-10.1/edify/README</a>
</li>
</ul>


</div>

</div>

<div id="outline-container-4-1-5" class="outline-4">
<h4 id="sec-4-1-5">Additional resources</h4>
<div class="outline-text-4" id="text-4-1-5">

<ul>
<li>Intro to edify - Free Your Android's introduction to the edify
  scripting language
  <a href="http://www.freeyourandroid.com/guide/introdution_to_edify">http://www.freeyourandroid.com/guide/introdution_to_edify</a>

</li>
<li>XDA's wiki page
  <a href="http://forum.xda-developers.com/wiki/Edify_script_language">http://forum.xda-developers.com/wiki/Edify_script_language</a>

</li>
<li>edify scripts in CWM recovery - an XDA thread discussing edify
  syntax
  <a href="http://forum.xda-developers.com/showthread.php?t=1187313">http://forum.xda-developers.com/showthread.php?t=1187313</a>

</li>
<li>Intro to edify-updater - another XDA thread about edify
  <a href="http://forum.xda-developers.com/showthread.php?t=1669489">http://forum.xda-developers.com/showthread.php?t=1669489</a>
</li>
<li>edify scripting creation - an XDA tutorial with syntax notes. Be
  sure to read about how to sign .zips, if you're not familiar with it
  already (and if it's necessary)
  <a href="http://forum.xda-developers.com/showpost.php?p=25136429&amp;postcount=2">http://forum.xda-developers.com/showpost.php?p=25136429&amp;postcount=2</a>
</li>
</ul>



</div>
</div>

</div>

<div id="outline-container-4-2" class="outline-3">
<h3 id="sec-4-2">External Android Development Resources (Master List) – The Internet Helps You Learn. Free links that teach Java, C, C++, and all things Android</h3>
<div class="outline-text-3" id="text-4-2">

<p><a href="http://wiki.cyanogenmod.org/w/Doc:_Development_Resources">http://wiki.cyanogenmod.org/w/Doc:_Development_Resources</a>
</p>

</div>

<div id="outline-container-4-2-1" class="outline-4">
<h4 id="sec-4-2-1">Learn about the build system (GNU Make)</h4>
<div class="outline-text-4" id="text-4-2-1">

<ul>
<li>Android Build System
  <a href="http://www.kandroid.org/online-pdk/guide/build_system.html">http://www.kandroid.org/online-pdk/guide/build_system.html</a>

</li>
<li>GNU Make manual <a href="http://www.gnu.org/software/make/manual/make.html">http://www.gnu.org/software/make/manual/make.html</a>

</li>
<li>The Android-Building Group
  <a href="https://groups.google.com/forum/?fromgroups#!forum/android-building">https://groups.google.com/forum/?fromgroups#!forum/android-building</a>
</li>
</ul>


</div>

</div>

<div id="outline-container-4-2-2" class="outline-4">
<h4 id="sec-4-2-2">Learn about the Android kernel (based on the Linux kernel)</h4>
<div class="outline-text-4" id="text-4-2-2">

<ul>
<li>How To Build A Kernel
  <a href="http://source.android.com/source/building-kernels.html">http://source.android.com/source/building-kernels.html</a>
</li>
</ul>


</div>

</div>

<div id="outline-container-4-2-3" class="outline-4">
<h4 id="sec-4-2-3">Learn about the Android Frameworks</h4>
<div class="outline-text-4" id="text-4-2-3">

<ul>
<li>The official Android Developer Site
  <a href="http://developer.android.com/index.html">http://developer.android.com/index.html</a>

</li>
<li>Android classes <a href="http://developer.android.com/reference/classes.html">http://developer.android.com/reference/classes.html</a>
</li>
</ul>


</div>
</div>

</div>

<div id="outline-container-4-3" class="outline-3">
<h3 id="sec-4-3">Team member</h3>
<div class="outline-text-3" id="text-4-3">

<p><a href="http://wiki.cyanogenmod.org/w/Devs">http://wiki.cyanogenmod.org/w/Devs</a>
</p></div>

</div>

<div id="outline-container-4-4" class="outline-3">
<h3 id="sec-4-4">adb intro</h3>
<div class="outline-text-3" id="text-4-4">

<p><a href="http://wiki.cyanogenmod.org/w/Doc:_adb_intro">http://wiki.cyanogenmod.org/w/Doc:_adb_intro</a>
</p>
</div>

<div id="outline-container-4-4-1" class="outline-4">
<h4 id="sec-4-4-1">What is adb?</h4>
<div class="outline-text-4" id="text-4-4-1">

<p>ADB ("adb"), or the Android Debug Bridge, is a development tool
included with the Android SDK (Software Developer Kit), which allows
for communication from an Android device (such as a phone or tablet)
to a personal computer, and vice-versa. 
</p></div>

</div>

<div id="outline-container-4-4-2" class="outline-4">
<h4 id="sec-4-4-2">Popular adb commands</h4>
<div class="outline-text-4" id="text-4-4-2">




<pre class="src src-sh">adb shell -- this command establishes a shell interface for establishing a command-line session with the device. 

adb push &lt;local&gt; &lt;remote&gt; -- this command pushes a local file on the computer to a remote file on the device. You can include the full path to either the local or remote file.

adb pull &lt;remote&gt; [&lt;local&gt;] -- this command will pull a remote file on the device (you can include the path) to either a specified location on the computer or, if no destination is specified, to the current directory where the command was issued.

adb logcat -- this command allows you to view the device log<span style="color: #00ffff;"> in</span> real time. It is also very useful for discovering and reporting bugs.

adb install &lt;file&gt; -- this is used to <span style="color: #ffa07a;">"side-load"</span> apps (<span style="color: #00ffff;">in</span> their .apk format) to the device.
</pre>

</div>

</div>

<div id="outline-container-4-4-3" class="outline-4">
<h4 id="sec-4-4-3">"Device not found" errors</h4>
<div class="outline-text-4" id="text-4-4-3">

<p>Sometimes adb can't find your device. One solution is to run adb
kill-server and then adb start-server as root or Administrator to
restart the adb daemon with elevated privileges.
</p>

</div>

</div>

<div id="outline-container-4-4-4" class="outline-4">
<h4 id="sec-4-4-4">Adb &ndash;help</h4>
<div class="outline-text-4" id="text-4-4-4">

<p>Android Debug Bridge version 1.0.31
</p>


<pre class="src src-sh">-d                            - directs command to the only connected USB device
                                returns an error if more than one USB device is present.
-e                            - directs command to the only running emulator.
                                returns an error if more than one emulator is running.
-s &lt;specific device&gt;          - directs command to the device or emulator with the given
                                serial number or qualifier. Overrides ANDROID_SERIAL
                                environment variable.
-p &lt;product name or path&gt;     - simple product name like <span style="color: #ffa07a;">'sooner'</span>, or
                                a relative/absolute path to a product
                                out directory like <span style="color: #ffa07a;">'out/target/product/sooner'</span>.
                                If -p is not specified, the ANDROID_PRODUCT_OUT
                                environment variable is used, which must
                                be an absolute path.
devices [-l]                  - list all connected devices
                                (<span style="color: #ffa07a;">'-l'</span> will also list device qualifiers)
connect &lt;host&gt;[:&lt;port&gt;]       - connect to a device via TCP/IP
                                Port 5555 is used by default if no port number is specified.
disconnect [&lt;host&gt;[:&lt;port&gt;]]  - disconnect from a TCP/IP device.
                                Port 5555 is used by default if no port number is specified.
                                Using this command with no additional arguments
                                will disconnect from all connected TCP/IP devices.

device commands:
 adb push &lt;local&gt; &lt;remote&gt;    - copy file/dir to device
 adb pull &lt;remote&gt; [&lt;local&gt;]  - copy file/dir from device
 adb sync [ &lt;directory&gt; ]     - copy host-&gt;device only if changed
                                (-l means list but don<span style="color: #ffa07a;">'t copy)</span>
<span style="color: #ffa07a;">                                (see '</span>adb help all<span style="color: #ffa07a;">')</span>
<span style="color: #ffa07a;"> adb shell                    - run remote shell interactively</span>
<span style="color: #ffa07a;"> adb shell &lt;command&gt;          - run remote shell command</span>
<span style="color: #ffa07a;"> adb emu &lt;command&gt;            - run emulator console command</span>
<span style="color: #ffa07a;"> adb logcat [ &lt;filter-spec&gt; ] - View device log</span>
<span style="color: #ffa07a;"> adb forward &lt;local&gt; &lt;remote&gt; - forward socket connections</span>
<span style="color: #ffa07a;">                                forward specs are one of: </span>
<span style="color: #ffa07a;">                                  tcp:&lt;port&gt;</span>
<span style="color: #ffa07a;">                                  localabstract:&lt;unix domain socket name&gt;</span>
<span style="color: #ffa07a;">                                  localreserved:&lt;unix domain socket name&gt;</span>
<span style="color: #ffa07a;">                                  localfilesystem:&lt;unix domain socket name&gt;</span>
<span style="color: #ffa07a;">                                  dev:&lt;character device name&gt;</span>
<span style="color: #ffa07a;">                                  jdwp:&lt;process pid&gt; (remote only)</span>
<span style="color: #ffa07a;"> adb jdwp                     - list PIDs of processes hosting a JDWP transport</span>
<span style="color: #ffa07a;"> adb install [-l] [-r] [-s] [--algo &lt;algorithm name&gt; --key &lt;hex-encoded key&gt; --iv &lt;hex-encoded iv&gt;] &lt;file&gt;</span>
<span style="color: #ffa07a;">                              - push this package file to the device and install it</span>
<span style="color: #ffa07a;">                                ('</span>-l<span style="color: #ffa07a;">' means forward-lock the app)</span>
<span style="color: #ffa07a;">                                ('</span>-r<span style="color: #ffa07a;">' means reinstall the app, keeping its data)</span>
<span style="color: #ffa07a;">                                ('</span>-s<span style="color: #ffa07a;">' means install on SD card instead of internal storage)</span>
<span style="color: #ffa07a;">                                ('</span>--algo<span style="color: #ffa07a;">', '</span>--key<span style="color: #ffa07a;">', and '</span>--iv<span style="color: #ffa07a;">' mean the file is encrypted already)</span>
<span style="color: #ffa07a;"> adb uninstall [-k] &lt;package&gt; - remove this app package from the device</span>
<span style="color: #ffa07a;">                                ('</span>-k<span style="color: #ffa07a;">' means keep the data and cache directories)</span>
<span style="color: #ffa07a;"> adb bugreport                - return all information from the device</span>
<span style="color: #ffa07a;">                                that should be included in a bug report.</span>

<span style="color: #ffa07a;"> adb backup [-f &lt;file&gt;] [-apk|-noapk] [-shared|-noshared] [-all] [-system|-nosystem] [&lt;packages...&gt;]</span>
<span style="color: #ffa07a;">                              - write an archive of the device'</span>s data to &lt;file&gt;.
                                If no -f option is supplied then the data is written
                                to <span style="color: #ffa07a;">"backup.ab"</span><span style="color: #00ffff;"> in</span> the current directory.
                                (-apk|-noapk enable/disable backup of the .apks themselves
                                   <span style="color: #00ffff;">in</span> the archive; the default is noapk.)
                                (-shared|-noshared enable/disable backup of the device<span style="color: #ffa07a;">'s</span>
<span style="color: #ffa07a;">                                   shared storage / SD card contents; the default is noshared.)</span>
<span style="color: #ffa07a;">                                (-all means to back up all installed applications)</span>
<span style="color: #ffa07a;">                                (-system|-nosystem toggles whether -all automatically includes</span>
<span style="color: #ffa07a;">                                   system applications; the default is to include system apps)</span>
<span style="color: #ffa07a;">                                (&lt;packages...&gt; is the list of applications to be backed up.  If</span>
<span style="color: #ffa07a;">                                   the -all or -shared flags are passed, then the package</span>
<span style="color: #ffa07a;">                                   list is optional.  Applications explicitly given on the</span>
<span style="color: #ffa07a;">                                   command line will be included even if -nosystem would</span>
<span style="color: #ffa07a;">                                   ordinarily cause them to be omitted.)</span>


<span style="color: #ffa07a;"> adb restore &lt;file&gt;           - restore device contents from the &lt;file&gt; backup archive</span>

<span style="color: #ffa07a;">adb help                     - show this help message</span>
<span style="color: #ffa07a;"> adb version                  - show version num</span>

<span style="color: #ffa07a;">scripting:</span>
<span style="color: #ffa07a;"> adb wait-for-device          - block until device is online</span>
<span style="color: #ffa07a;"> adb start-server             - ensure that there is a server running</span>
<span style="color: #ffa07a;"> adb kill-server              - kill the server if it is running</span>
<span style="color: #ffa07a;"> adb get-state                - prints: offline | bootloader | device</span>
<span style="color: #ffa07a;"> adb get-serialno             - prints: &lt;serial-number&gt;</span>
<span style="color: #ffa07a;"> adb get-devpath              - prints: &lt;device-path&gt;</span>
<span style="color: #ffa07a;"> adb status-window            - continuously print device status for a specified device</span>
<span style="color: #ffa07a;"> adb remount                  - remounts the /system partition on the device read-write</span>
<span style="color: #ffa07a;"> adb reboot [bootloader|recovery] - reboots the device, optionally into the bootloader or recovery program</span>
<span style="color: #ffa07a;"> adb reboot-bootloader        - reboots the device into the bootloader</span>
<span style="color: #ffa07a;"> adb root                     - restarts the adbd daemon with root permissions</span>
<span style="color: #ffa07a;"> adb usb                      - restarts the adbd daemon listening on USB</span>
<span style="color: #ffa07a;"> adb tcpip &lt;port&gt;             - restarts the adbd daemon listening on TCP on the specified port</span>

<span style="color: #ffa07a;">networking:</span>
<span style="color: #ffa07a;"> adb ppp &lt;tty&gt; [parameters]   - Run PPP over USB.</span>
<span style="color: #ffa07a;">Note: you should not automatically start a PPP connection.</span>
<span style="color: #ffa07a;">&lt;tty&gt; refers to the tty for PPP stream. Eg. dev:/dev/omap_csmi_tty1</span>
<span style="color: #ffa07a;">[parameters] - Eg. defaultroute debug dump local notty usepeerdns</span>

<span style="color: #ffa07a;">adb sync notes: adb sync [ &lt;directory&gt; ]</span>
<span style="color: #ffa07a;"> &lt;localdir&gt; can be interpreted in several ways:</span>
<span style="color: #ffa07a;"> - If &lt;directory&gt; is not specified, both /system and /data partitions will be updated.</span>
<span style="color: #ffa07a;"> - If it is "system" or "data", only the corresponding partition</span>
<span style="color: #ffa07a;">   is updated.</span>

<span style="color: #ffa07a;">environmental variables:</span>
<span style="color: #ffa07a;"> ADB_TRACE                    - Print debug information. A comma separated list of the following values</span>
<span style="color: #ffa07a;">                                1 or all, adb, sockets, packets, rwx, usb, sync, sysdeps, transport, jdwp</span>
<span style="color: #ffa07a;"> ANDROID_SERIAL               - The serial number to connect to. -s takes priority over this if given.</span>
<span style="color: #ffa07a;"> ANDROID_LOG_TAGS             - When used with the logcat option, only these debug tags are printed.</span>
</pre>

</div>
</div>

</div>

<div id="outline-container-4-5" class="outline-3">
<h3 id="sec-4-5">fastboot intro</h3>
<div class="outline-text-3" id="text-4-5">


</div>

<div id="outline-container-4-5-1" class="outline-4">
<h4 id="sec-4-5-1">A brief introduction to fastboot</h4>
<div class="outline-text-4" id="text-4-5-1">

<p>fastboot is a small tool that comes with the Android SDK (software
developer kit) that can be used to re-flash partitions on your device.
It is an alternative to the recovery mode for doing installations and
updates.
</p>
<p>
 Please note that fastboot commands will ONLY work while the device is
 in fastboot mode.
</p></div>

</div>

<div id="outline-container-4-5-2" class="outline-4">
<h4 id="sec-4-5-2">Installing recovery using fastboot</h4>
<div class="outline-text-4" id="text-4-5-2">

<p>Installing ClockworkMod Recovery on the device
</p><ol>
<li>Connect the device to the computer via USB.
</li>
<li>Make sure the fastboot binary is in your PATH or that you place the downloaded image in the same directory as fastboot.
</li>
<li>Open a terminal on your PC and reboot the device into fastboot mode by typing adb reboot bootloader or by using the hardware key combination.
</li>
<li>Once the device is in fastboot mode, verify your PC sees the device by typing fastboot devices
     If you don't see your device serial number, and instead see "&lt;waiting for device&gt;", fastboot is not configured properly on your machine. See fastboot documentation for more info.
</li>
<li>Flash ClockworkMod Recovery onto your device by entering the following command: fastboot flash recovery your<sub>recovery</sub><sub>image</sub>.img where the latter part is the name of the file you downloaded.
</li>
<li>Once the flash completes successfully, reboot the device into recovery to verify the installation.
      Note: Some ROMs overwrite recovery at boot time so if you do not plan to immediately boot into recovery to install CyanogenMod, please be aware that this may overwrite your custom recovery with the stock one.
</li>
</ol>


</div>
</div>

</div>

<div id="outline-container-4-6" class="outline-3">
<h3 id="sec-4-6">debugging with logcat</h3>
<div class="outline-text-3" id="text-4-6">


</div>

<div id="outline-container-4-6-1" class="outline-4">
<h4 id="sec-4-6-1">A bit about logcat</h4>
<div class="outline-text-4" id="text-4-6-1">

<p>When Android is running, it's generating all kinds of system messages.
You see, programmers/developers can optionally output status
information (or errors or debugging notes) in real-time to a system
log, and Android itself sends all kinds of useful information out that
way.
</p></div>

</div>

<div id="outline-container-4-6-2" class="outline-4">
<h4 id="sec-4-6-2">Filtering</h4>
<div class="outline-text-4" id="text-4-6-2">

<p>db logcat offers extra functionality to filter logs based on priority.
The usage is adb logcat *:# where # is one of the following.
</p>



<pre class="src src-sh">V    Verbose (show all possibly useless logs, default level)
D    Debug (show all reasonable debug logs)
I    Info (show expected logs for regular usage)
W    Warn (show possible issues that are not yet errors)
E    Error (show issues that have caused errors)
F    Fatal (show issues that are fatal to runtime and will often result<span style="color: #00ffff;"> in</span> rebooting)
</pre>


</div>

</div>

<div id="outline-container-4-6-3" class="outline-4">
<h4 id="sec-4-6-3">Color</h4>
<div class="outline-text-4" id="text-4-6-3">

<ul>
<li>Colored logcat by Jeff Sharkey
  <a href="https://code.google.com/p/colored-logcat/">https://code.google.com/p/colored-logcat/</a>
  <a href="http://jsharkey.org/blog/2009/04/22/modifying-the-android-logcat-stream-for-full-color-debugging/">http://jsharkey.org/blog/2009/04/22/modifying-the-android-logcat-stream-for-full-color-debugging/</a>
</li>
<li>logcat-color by Marshall Culpepper
  <a href="https://github.com/marshall/logcat-color">https://github.com/marshall/logcat-color</a>
</li>
</ul>




</div>

</div>

<div id="outline-container-4-6-4" class="outline-4">
<h4 id="sec-4-6-4">Logcat for Bugtracker(On devices)</h4>
<div class="outline-text-4" id="text-4-6-4">


<p>
On device
</p>
<p>
This will generate a logcat on your sdcard which you can then attatch to a bug you want to report.
</p><ul>
<li>Open Console Application of your choice (CM comes with 'Terminal Emulator' preinstalled)
</li>
<li>type logcat -d -f /sdcard/logcat.log *:V
</li>
<li>alternatively the radio buffer can be viewed with logcat -b radio
</li>
</ul>





<pre class="src src-sh">-d    makes it dump the logcat
-f    tell it where to save the log to
*:V   gets all Logs<span style="color: #00ffff;"> in</span> Verbose mode
</pre>

</div>
</div>

</div>

<div id="outline-container-4-7" class="outline-3">
<h3 id="sec-4-7">glossary</h3>
<div class="outline-text-3" id="text-4-7">


</div>

<div id="outline-container-4-7-1" class="outline-4">
<h4 id="sec-4-7-1">Bloatware</h4>
<div class="outline-text-4" id="text-4-7-1">

<p>Software or 'apps' that you don't need, but come preinstalled to a
device's /system partition, meaning that you cannot remove them unless
the device has been rooted. Usually, these are apps are sponsored by a
company and included by a carrier for profit.
</p></div>

</div>

<div id="outline-container-4-7-2" class="outline-4">
<h4 id="sec-4-7-2">BFS</h4>
<div class="outline-text-4" id="text-4-7-2">

<p>Brain Fuck Scheduler for Linux was created by veteran kernel
programmer Con Kolivas and has been reported to improve responsiveness
on light-NUMA (non-uniform memory access) Linux mobile devices and
desktop computers with fewer than 16 cores.
</p></div>

</div>

<div id="outline-container-4-7-3" class="outline-4">
<h4 id="sec-4-7-3">SuperCID</h4>
<div class="outline-text-4" id="text-4-7-3">

<p>SuperCID is a special code, 11111111, which means that software from
any region can be installed. See superCID:
<a href="http://wiki.cyanogenmod.org/w/Basic_concepts#superCID">http://wiki.cyanogenmod.org/w/Basic_concepts#superCID</a>
</p>
</div>

</div>

<div id="outline-container-4-7-4" class="outline-4">
<h4 id="sec-4-7-4">Vanilla</h4>
<div class="outline-text-4" id="text-4-7-4">

<p>A clean, unmodified version of something. In the context of Android
ROMs, vanilla refers to the stock ROM that came pre-installed on the
device.
</p>
</div>

</div>

<div id="outline-container-4-7-5" class="outline-4">
<h4 id="sec-4-7-5">-&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;android-&mdash;&mdash;&mdash;&mdash;</h4>
<div class="outline-text-4" id="text-4-7-5">

<ul>
<li>32A PVT32A handsets have 288MB total RAM (192MB usable by OS - same as Hero handsets) and use the Qualcomm MSM7200A CPU.
</li>
<li>32B PVT32B handsets have 192MB total RAM (96MB usable by OS) and use the Qualcomm MSM7201A CPU.
</li>
<li>ADP Android Developer Phone. The first ADP was a "development" version of the HTC Dream. The current ADP is the Samsung Nexus S.
</li>
<li>CWM Short for ClockworkMod Recovery. Not to be confused with CM (Cyanogenmod).
</li>
<li>Dalvik-Cache The dalvik-cache directory holds all of the pre-compiled .dex files created from installed apps. These files are static and do not change unless the app is updated.
</li>
<li>flash<sub>image</sub> A small utility to be used on the device that allows you to re-write system partitions with image files. If you don't have it, it can be found here.
</li>
<li>NANDroid A set of tools that will enable anyone who has root on their Android device to make FULL system backups, in case something goes wrong or you want to try out that new experimental ROM/theme. NANDroid will backup (and restore) /system, /data, /cache, and /boot partitions.
</li>
<li>NVFlash is a low-level flash utility for nVidia based devices which gives you low level access to the system to flash, format, recover, repartition and do many more functions. It is a very powerful tool and should be used with caution. Read and follow all instruction carefully when using nvflash. See <a href="http://rootzwiki.com/topic/35086-guide-nvflash-general-users-guide-unbrickrecoverdowngradeupgrade-tf201/#entry982736">http://rootzwiki.com/topic/35086-guide-nvflash-general-users-guide-unbrickrecoverdowngradeupgrade-tf201/#entry982736</a>
</li>
<li>Recovery Mode A special environment that you can boot into for troubleshooting and upgrading purposes.
</li>
<li>SPL Second Program Loader, in conjunction with the IPL comprise a
  device's bootloader. Aside from bootstrapping Android, the
  bootloader also fulfills various diagnostic functions. One of these
  functions is the manipulation of data in the device's internal flash
  ram. Depending on the SPL installed, the user might be able to flash
  signed NBH files, flash nand images, and more. Note that the SPL is
  installed and operates independently of the Android build that runs
  atop it. Generally speaking, there are two variants of the SPL: Stock, which is 'locked' and is installed on most devices from the factory, and Engineering, which is 'unlocked' and has to be manually flashed - usually after 'rooting'.
</li>
<li>S-OFF Usually a property of HTC devices. S-OFF allows the user to modify any partition on the device. Signature checking is disabled for zips, allowing the user to flash otapackages and custom kernels from recovery. S-ON prevents the user to allow these actions. See <a href="http://forum.xda-developers.com/showthread.php?p=26732440">http://forum.xda-developers.com/showthread.php?p=26732440</a>
</li>
<li>Zipalign Reduces the amount of RAM consumed when running the application by allowing data to be mmap'd in; which causes all uncompressed data within the .apk, such as images or raw files, to be aligned on 4-byte boundaries.
</li>
</ul>

</div>

</div>

<div id="outline-container-4-7-6" class="outline-4">
<h4 id="sec-4-7-6">-&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;Hacking Definitions&mdash;&mdash;&mdash;&mdash;&mdash;</h4>
<div class="outline-text-4" id="text-4-7-6">

</div>

</div>

<div id="outline-container-4-7-7" class="outline-4">
<h4 id="sec-4-7-7">Aftermarket</h4>
<div class="outline-text-4" id="text-4-7-7">

<p>Aftermarket generally refers to any product or service applied or requisitioned by end-users to add usability or functionality to the original product. Many aftermarket modifications can void the manufacturer's warranty. From a manufacturer's perspective, the after-market is any goods or services offered by the manufacturer directly to end-users of a given product or service. After-market services include support for warranties, contracts, and parts and accessories sales.
</p></div>

</div>

<div id="outline-container-4-7-8" class="outline-4">
<h4 id="sec-4-7-8">Exploit</h4>
<div class="outline-text-4" id="text-4-7-8">

<p>A proof of concept local root exploit utilizing hotplug. Allows installation of a "rootshell" program on many Android 1.x and 2.x devices.
</p></div>

</div>

<div id="outline-container-4-7-9" class="outline-4">
<h4 id="sec-4-7-9">Flashing</h4>
<div class="outline-text-4" id="text-4-7-9">

<p>The process of applying a firmware image (or ROM) to a device. It generally entails a very specific order of steps. Failing to complete any one of these steps properly may result in bricking the device.
</p></div>

</div>

<div id="outline-container-4-7-10" class="outline-4">
<h4 id="sec-4-7-10">Kang</h4>
<div class="outline-text-4" id="text-4-7-10">

<p>The process of creating a code based off someone else's code or reapplying code that someone else created into your own code (e.g. git cherry-pick). The term "kang" or "kanging" can have a pejorative connotation, especially if one adopts code from someone else without giving due credit. However the term can also be used with a certain sense of irony; sometimes one will claim to have "kanged" with some tongue-in-cheek.
</p>
</div>
</div>

</div>

<div id="outline-container-4-8" class="outline-3">
<h3 id="sec-4-8">Envsetup help</h3>
<div class="outline-text-3" id="text-4-8">

<p><a href="http://wiki.cyanogenmod.org/w/Envsetup_help">http://wiki.cyanogenmod.org/w/Envsetup_help</a>
</p>
<p>
Invoking "$ source build/envsetup.sh"
</p>



<pre class="src src-sh">mka      Builds using SCHED_BATCH on all processors
lunch    lunch &lt;vendor_name&gt;_&lt;product_name&gt;-&lt;build_variant&gt;
breakfast        breakfast &lt;product_name&gt;
brunch   brunch &lt;product_name&gt;
omnom    omnom &lt;product_name&gt;
tapas    tapas [&lt;App1&gt; &lt;App2&gt; ...] [arm|x86|mips] [eng|userdebug|user]
croot    Changes directory to the top of the tree
m        Makes from the top of the tree
mm       Builds all of the modules<span style="color: #00ffff;"> in</span> the current directory
mmp      Builds all of the modules<span style="color: #00ffff;"> in</span> the current directory and pushes them to the device
mmm      Builds all of the modules<span style="color: #00ffff;"> in</span> the supplied directories
mmmp     Builds all of the modules<span style="color: #00ffff;"> in</span> the supplied directories and pushes them to the device
cgrep    Greps on all local C/C++ files
jgrep    Greps on all local Java files
resgrep  Greps on all local res/*.xml files
godir    Go to the directory containing a file
cmremote         Add git remote for CM Gerrit Review
cmgerrit         A Git wrapper that fetches/pushes patch from/to CM Gerrit Review
cmrebase         Rebase a Gerrit change and push it again
aospremote       Add git remote for matching AOSP repository
mkap     Builds the module(s) using mka and pushes them to the device
cmka     Cleans and builds using mka
reposync         Parallel repo sync using ionice and SCHED_BATCH
installboot      Installs a boot.img to the connected device
installrecovery  Installs a recovery.img to the connected device
</pre>


</div>

<div id="outline-container-4-8-1" class="outline-4">
<h4 id="sec-4-8-1">lunch</h4>
<div class="outline-text-4" id="text-4-8-1">

<p>Unlike breakfast, lunch makes no assumptions with regard to device
configuration locations and formats, so it will scan the entire tree
for matching options (depending on the number of locally available
devices, this may take a significant amount of time). To build after
running lunch, simply issue the command mka. No bacon here
</p>
</div>

</div>

<div id="outline-container-4-8-2" class="outline-4">
<h4 id="sec-4-8-2">brunch</h4>
<div class="outline-text-4" id="text-4-8-2">

<p>Defined simply, brunch is equivalent to
</p>
<p>
$ breakfast [device name] &amp;&amp; mka bacon
</p>
<p>
This means that it sets up your build environment to be configured for
your device, and then commences the build process. mka bacon is just
CyanogenMods’s way of saying build the code for your device. It’s
generally only used for officially supported devices
</p>
</div>
</div>

</div>

<div id="outline-container-4-9" class="outline-3">
<h3 id="sec-4-9">Basic concepts</h3>
<div class="outline-text-3" id="text-4-9">

<p><a href="http://wiki.cyanogenmod.org/w/Basic_concepts">http://wiki.cyanogenmod.org/w/Basic_concepts</a>
</p>
</div>

<div id="outline-container-4-9-1" class="outline-4">
<h4 id="sec-4-9-1">S-OFF (Security OFF) Mode</h4>
<div class="outline-text-4" id="text-4-9-1">

<p>Some bootloaders include a "Security ON" (AKA "S-ON") mode, whereby
certain operational restrictions are imposed on the boot. On some
devices (such as the T-Mobile G2), the S-ON bootloader may put the
operating system partition in a "read-only" mode. For others, S-ON may
cause the device to adopt behavior similar to a fully-locked
bootloader.
</p>
<p>
Switching the bootloader to S-OFF mode is therefore a prerequisite on
some devices to allow the operating system to be modified or replaced.
</p>
</div>
</div>

</div>

<div id="outline-container-4-10" class="outline-3">
<h3 id="sec-4-10">All About Recovery Images</h3>
<div class="outline-text-3" id="text-4-10">

<p><a href="http://wiki.cyanogenmod.org/w/All_About_Recovery_Images">http://wiki.cyanogenmod.org/w/All_About_Recovery_Images</a>
</p>
</div>

<div id="outline-container-4-10-1" class="outline-4">
<h4 id="sec-4-10-1">Overview</h4>
<div class="outline-text-4" id="text-4-10-1">

<p>  recovery mode is, is a special "second boot" mode, independent of the
  normal boot, that you can start into that allows you to troubleshoot
  or update your device. Recovery mode lets you re-flash an entirely
  new operating system, clear out problematic cache partitions, and can
  "factory reset" your device, clearing out non-system data. The
  recovery can also let you back up and restore your Android
  installation. As if that wasn't enough, the recovery mode often will
  allow you to access your device from your computer via adb.
</p></div>

</div>

<div id="outline-container-4-10-2" class="outline-4">
<h4 id="sec-4-10-2">Popular Recoveries</h4>
<div class="outline-text-4" id="text-4-10-2">

<ul>
<li>ClockworkMod Recovery: <a href="https://github.com/koush">https://github.com/koush</a>
</li>
<li>TWRP: <a href="http://teamw.in/project/twrp2">http://teamw.in/project/twrp2</a>  <a href="https://github.com/Dees-Troy">https://github.com/Dees-Troy</a>
</li>
</ul>


</div>
</div>

</div>

<div id="outline-container-4-11" class="outline-3">
<h3 id="sec-4-11">Doc: more concepts</h3>
<div class="outline-text-3" id="text-4-11">

<p><a href="http://wiki.cyanogenmod.org/w/Doc:_more_concepts">http://wiki.cyanogenmod.org/w/Doc:_more_concepts</a>
</p>
</div>

<div id="outline-container-4-11-1" class="outline-4">
<h4 id="sec-4-11-1">Common Partitions and directories</h4>
<div class="outline-text-4" id="text-4-11-1">

<ul>
<li>/boot This partition stores the kernel and ramdisk. The kernel can
  be thought of as the "core" of the device's software. It is what
  allows the hardware to "talk" to the software, and vice versa. It
  also controls other aspects of the operating system on the device,
  such as what file formats the device is able to support. The ramdisk
  contains the very first bits of Android that are loaded. It's the
  software that loads everything else.

</li>
<li>/recovery This partition holds the device's recovery software, which
  gives the user access to special functions, such as upgrading the
  operating system or making a backup of the device's software.

</li>
<li>/system This is the main directory where the device's essential
  software, the operating system itself, is stored. When CyanogenMod
  is installed, this is where it goes. Generally speaking, this
  partition is loaded into "read only" mode so that you don't
  accidentally overwrite portions of Android, and it's only able to be
  modified under special circumstances.

</li>
<li>/cache This directory stores temporary files used by Android.
  Generally, files on this partition are not usually critical to the
  operation of the device, and can be "cleared out" by wiping its
  contents, especially during every major upgrade.

</li>
<li>/data This directory is where much of your personal data is stored.
  So if you download an app from the Android Market, it goes here. If
  you change a setting, that change is also stored here. If you
  receive a SMS, it too is stored here.
</li>
</ul>


</div>
</div>

</div>

<div id="outline-container-4-12" class="outline-3">
<h3 id="sec-4-12">Building Basics</h3>
<div class="outline-text-3" id="text-4-12">

<p><a href="http://wiki.cyanogenmod.org/w/Doc:_Building_Basics">http://wiki.cyanogenmod.org/w/Doc:_Building_Basics</a>
</p>
</div>

<div id="outline-container-4-12-1" class="outline-4">
<h4 id="sec-4-12-1">The $OUT directory</h4>
<div class="outline-text-4" id="text-4-12-1">

<ul>
<li>/system &ndash; this contains all the stuff that will become the /system
  folder on Android.

</li>
<li>/root &ndash; these files contain the files that are turned into the ram
  disk loaded and run by the kernel. The first program to be run by
  the kernel is called init, and it uses the init.rc and
  init.CODENAME.rc files to determine what happens next. See an
  discussion of that here.

</li>
<li>/recovery/root The ramdisk that contains the recovery mode is here.
</li>
</ul>


</div>

</div>

<div id="outline-container-4-12-2" class="outline-4">
<h4 id="sec-4-12-2">Commands</h4>
<div class="outline-text-4" id="text-4-12-2">

<p>Make
</p><ul>
<li>make modules &ndash; this command will show all available targets. You
  can build a single one by make my<sub>target</sub>.

</li>
<li>make showcommands &ndash; this command will enable the verbose build
  mode.
</li>
</ul>


<p>
ADB
</p><ul>
<li>adb remount &ndash; If you've gotten errors trying to push files to
  /system due to it being in read-only mode, adb remount will remount
  /system into read-write mode&mdash; provided that the shell has the
  correct root permissions to do so. This replaces having to type a
  longer command by hand such as mount -o rw,remount /system (as root)
  or something.

</li>
<li>adb sync system &ndash; assuming you have adb installed, this
  little-known, but powerful command will sync the contents of
  $OUT/system with the /system directory on your device. It does
  require that you have write access to /system. This command is very
  useful for making and testing quick changes to your device. Note
  though that adb sync system sometimes has problems with permissions
  and symlinks.
</li>
</ul>



</div>
</div>

</div>

<div id="outline-container-4-13" class="outline-3">
<h3 id="sec-4-13">using gerrit</h3>
<div class="outline-text-3" id="text-4-13">

<p><a href="http://wiki.cyanogenmod.org/w/Gerrit">http://wiki.cyanogenmod.org/w/Gerrit</a>
</p>
</div>

<div id="outline-container-4-13-1" class="outline-4">
<h4 id="sec-4-13-1">Submitting to Gerrit</h4>
<div class="outline-text-4" id="text-4-13-1">

<ol>
<li>Setup an account on Gerrit, you can register at
   review.cyanogenmod.com
</li>
<li>If you already have SSH keys set up (e.g. for Github), skip the
   following steps
</li>
</ol>

</div>

</div>

<div id="outline-container-4-13-2" class="outline-4">
<h4 id="sec-4-13-2">Uploading your changes</h4>
<div class="outline-text-4" id="text-4-13-2">

<ol>
<li>First, you need to start a topic branch.
   <code>repo start &lt;branch name&gt; &lt;project path&gt;</code>
</li>
<li>After you make your changes, you can commit them just as you would
   normally:
</li>
</ol>




<pre class="src src-sh">git add &lt;file you edited&gt;
git commit
<span style="color: #87cefa;">ctop</span> (Same as moving to top/root of tree using cd)
</pre>


<ol>
<li>upload your changes to the CyanogenMod server:
   <code>repo upload &lt;project path&gt;</code>
</li>
</ol>


</div>

</div>

<div id="outline-container-4-13-3" class="outline-4">
<h4 id="sec-4-13-3">example</h4>
<div class="outline-text-4" id="text-4-13-3">




<pre class="src src-sh"><span style="color: #ff7f24;">#</span><span style="color: #ff7f24;">Add AWEXT Support</span>
<span style="color: #b0c4de;">cd</span> ~/android/system/
repo start mychanges-wpa_supplicant external/wpa_supplicant
<span style="color: #b0c4de;">cd</span> ~/android/system/project
<span style="color: #ff7f24;">#</span><span style="color: #ff7f24;">Make changes, edit a few files, add new drivers.. etc.</span>
git add *
git commit -am <span style="color: #ffa07a;">'Added AWEXT drivers'</span>
<span style="color: #b0c4de;">cd</span> ~/android/system
repo upload external/wpa_supplicant
</pre>



</div>
</div>

</div>

<div id="outline-container-4-14" class="outline-3">
<h3 id="sec-4-14">Doc: eclipse</h3>
<div class="outline-text-3" id="text-4-14">

<p><a href="http://wiki.cyanogenmod.org/w/Doc:_eclipse">http://wiki.cyanogenmod.org/w/Doc:_eclipse</a>
</p>
<p>
<code>cp ~/android/system/development/ide/eclipse/.classpath ~/android/system</code>
</p>
<p>
Open Eclipse
</p><ol>
<li>Click the File menu » new » java project
</li>
<li>Give a project name of CyanogenMod
</li>
<li>Uncheck use default location
</li>
<li>Point the location to ~/android/system/
</li>
<li>Keep all other defaults
</li>
<li>Click finis
</li>
</ol>


<p>
more : <a href="http://source.android.com/source/using-eclipse.html">http://source.android.com/source/using-eclipse.html</a>
</p>
</div>

</div>

<div id="outline-container-4-15" class="outline-3">
<h3 id="sec-4-15">About local manifests – Add, remove, or replace source code repositories with local<sub>manifest</sub>.xml</h3>
<div class="outline-text-3" id="text-4-15">

<p><a href="http://wiki.cyanogenmod.org/w/Doc:_Using_local_manifests">http://wiki.cyanogenmod.org/w/Doc:_Using_local_manifests</a>
</p>
</div>

<div id="outline-container-4-15-1" class="outline-4">
<h4 id="sec-4-15-1">Overriding the manifest</h4>
<div class="outline-text-4" id="text-4-15-1">

<p>create a folder called local<sub>manifests</sub> and put that inside the .repo
directory, then put your XML inside that directory. You can place as
many override files in .repo/local<sub>manifests</sub> as you like and repo will
pick them up during the next sync. You can call the files anything you
like as long as they end in .xml.
</p>



<pre class="src src-sh">&lt;?xml <span style="color: #eedd82;">version</span>=<span style="color: #ffa07a;">"1.0"</span> <span style="color: #eedd82;">encoding</span>=<span style="color: #ffa07a;">"UTF-8"</span>?&gt;
   &lt;manifest&gt;
     &lt;remote <span style="color: #eedd82;">name</span>=<span style="color: #ffa07a;">"omap"</span> <span style="color: #eedd82;">fetch</span>=<span style="color: #ffa07a;">"git://git.omapzoom.org/"</span> /&gt;
     &lt;remove-project <span style="color: #eedd82;">name</span>=<span style="color: #ffa07a;">"CyanogenMod/android_hardware_ti_omap3"</span> /&gt;
     &lt;project <span style="color: #eedd82;">path</span>=<span style="color: #ffa07a;">"hardware/ti/omap3"</span> <span style="color: #eedd82;">name</span>=<span style="color: #ffa07a;">"repo/android/hardware/ti/omap3"</span> <span style="color: #eedd82;">remote</span>=<span style="color: #ffa07a;">"omap"</span> <span style="color: #eedd82;">revision</span>=<span style="color: #ffa07a;">"jellybean"</span>/&gt;
   &lt;/manifest&gt;
</pre>


<p>
Note that when adding new projects, there are at least three parts defined:
</p><ul>
<li>remote &ndash; the name of the remote. this can be one that was defined in either the regular manifest or local<sub>manifest</sub>.xml.
</li>
<li>name &ndash; the name of the git project&ndash; for github it has the format account<sub>name</sub>/project<sub>name</sub>
</li>
<li>path &ndash; where the git repository should go in your local copy of the source code.
</li>
<li>revision &ndash; (OPTIONAL) which branch or tag to use in the repository.
</li>
</ul>


</div>
</div>

</div>

<div id="outline-container-4-16" class="outline-3">
<h3 id="sec-4-16">Recreating CM Releases with Manifests – How to build for your device exactly like the buildbots do.</h3>
<div class="outline-text-3" id="text-4-16">

<p><a href="http://wiki.cyanogenmod.org/w/Doc:_manifests">http://wiki.cyanogenmod.org/w/Doc:_manifests</a>
</p></div>

</div>

<div id="outline-container-4-17" class="outline-3">
<h3 id="sec-4-17">"make clean" vs. "make clobber"</h3>
<div class="outline-text-3" id="text-4-17">

<p><a href="http://wiki.cyanogenmod.org/w/Doc:_make_clean_vs_make_clobber">http://wiki.cyanogenmod.org/w/Doc:_make_clean_vs_make_clobber</a>
</p>
</div>

<div id="outline-container-4-17-1" class="outline-4">
<h4 id="sec-4-17-1">make clean</h4>
<div class="outline-text-4" id="text-4-17-1">

<p><code>make clean</code> deletes all of the output and intermediate files for this
configuration. This is the same as:
</p>
<p>
<code>rm -rf $OUT</code> (where $OUT is set to the build directory of your device
in <code>out/target/product/[CODENAME])</code>
</p>
</div>

</div>

<div id="outline-container-4-17-2" class="outline-4">
<h4 id="sec-4-17-2">make clobber</h4>
<div class="outline-text-4" id="text-4-17-2">

<p>make clobber deletes all of the output and intermediate files for all configurations. This is the same as:
<code>rm -rf out/</code>
</p>
<p>
(So this removes not only <code>out/target/product/CODENAME</code> but the entire
<code>/out directory</code>.)
</p>
</div>

</div>

<div id="outline-container-4-17-3" class="outline-4">
<h4 id="sec-4-17-3">When to do a make clobber</h4>
<div class="outline-text-4" id="text-4-17-3">

<p>You might want to do make clobber when you want to be absolutely,
positively sure you are starting a fresh build from scratch. One time
you almost certainly want to do this is if changes are made to the
BoardConfig.mk file in device/asus/grouper.
</p>
<p>
Some Makefiles such as BoardConfig.mk may contain flags in it that
actually affect the build system-wide, and the Makefile system doesn't
really check the actual source code to see if a variable change in one
place may affect the build in the code somewhere else.
</p>
</div>
</div>

</div>

<div id="outline-container-4-18" class="outline-3">
<h3 id="sec-4-18">Doc: the cm source</h3>
<div class="outline-text-3" id="text-4-18">

<p><a href="http://wiki.cyanogenmod.org/w/Doc:_the_cm_source">http://wiki.cyanogenmod.org/w/Doc:_the_cm_source</a>
</p>
</div>

<div id="outline-container-4-18-1" class="outline-4">
<h4 id="sec-4-18-1">bionic/</h4>
<div class="outline-text-4" id="text-4-18-1">

<p>bionic/ is the Android mobile-friendly version of libc
</p></div>

</div>

<div id="outline-container-4-18-2" class="outline-4">
<h4 id="sec-4-18-2">build/</h4>
<div class="outline-text-4" id="text-4-18-2">

<p>The scripts and various files that are used for the actual build
process. Take a look in here if you're curious what steps are taken to
make all the parts of Android compile, as well as various "make"
commands
</p></div>

</div>

<div id="outline-container-4-18-3" class="outline-4">
<h4 id="sec-4-18-3">bootable/</h4>
<div class="outline-text-4" id="text-4-18-3">

<p>Among other things, the source for ClockworkMod recovery is in here.
</p></div>

</div>

<div id="outline-container-4-18-4" class="outline-4">
<h4 id="sec-4-18-4">dalvik/</h4>
<div class="outline-text-4" id="text-4-18-4">

<p>This is the virtual machine that runs the java apps. It's how you can
write an app and it'll run on any android machine, regardless of the
underlying architecture.
</p></div>

</div>

<div id="outline-container-4-18-5" class="outline-4">
<h4 id="sec-4-18-5">device/</h4>
<div class="outline-text-4" id="text-4-18-5">

<p>device/ contains part (if not all) of the board support package for a
device, and is organized as device/&lt;vendor&gt;/&lt;codename&gt;. So the files
for Nexus 7 are under device/asus/grouper/, the files for Nexus 4 are
under device/lge/mako/.
</p></div>

</div>

<div id="outline-container-4-18-6" class="outline-4">
<h4 id="sec-4-18-6">docs/</h4>
<div class="outline-text-4" id="text-4-18-6">

<p>Contains the source code for the Android Open Source website.
</p></div>

</div>

<div id="outline-container-4-18-7" class="outline-4">
<h4 id="sec-4-18-7">external/</h4>
<div class="outline-text-4" id="text-4-18-7">

<p>This is where non-android specific utilities go. Lots of the stuff in
here are just regular open source projects that are used by Android
(or CyanogenMod) and just have the Android.mk make files to work with
the Android build system.
</p></div>

</div>

<div id="outline-container-4-18-8" class="outline-4">
<h4 id="sec-4-18-8">frameworks/</h4>
<div class="outline-text-4" id="text-4-18-8">

<p>This refers to the core Android frameworks. It's the stuff that makes
Android, Android. The frameworks contain the Android user experience
and the abstracted "hooks" that programmers use to build Android apps.
So, for example, this folder contains the Java windows-manipulation
and activity stuff and java sound support and Android graphics layers
and Android media stuff and UI as well as services and basically the
Android API in general. There are also some platform-specific
optimization here as well that CyanogenMod adds for Qualcomm, OMAP,
and other manufacturers to get the best performance out of specific
architectures.
</p></div>

</div>

<div id="outline-container-4-18-9" class="outline-4">
<h4 id="sec-4-18-9">hardware/</h4>
<div class="outline-text-4" id="text-4-18-9">

<p>Platform/hardware-specific libraries and such go in this folder.
</p></div>

</div>

<div id="outline-container-4-18-10" class="outline-4">
<h4 id="sec-4-18-10">kernel/</h4>
<div class="outline-text-4" id="text-4-18-10">

<p>Like device/ ,kernel/ is organized like kernel/&lt;vendor&gt;/&gt;codename&gt; and
inside there you'll find the source for the kernel. This source may be
downloaded "on the fly" by the CyanogenMod build system.
</p></div>

</div>

<div id="outline-container-4-18-11" class="outline-4">
<h4 id="sec-4-18-11">ndk/</h4>
<div class="outline-text-4" id="text-4-18-11">

<p>See here. Tools for allowing cross-platform C code to be included in
Android apps (as JNI shared libraries, apparently). Used if you're
writing C-based apps, but I've never used any of this or even poked my
nose in there. See <i>ndk/docs/OVERVIEW.html for more. ***  out</i> 
The output of your build will go in here by default. When you type cd
$OUT after building, you're actually getting a shortcut to
out/target/product/&lt;devicename&gt;. This is the only folder that should
have stuff added to it (or changed) when you're doing a build.
</p></div>

</div>

<div id="outline-container-4-18-12" class="outline-4">
<h4 id="sec-4-18-12">packages/</h4>
<div class="outline-text-4" id="text-4-18-12">

<p>packages/apps/ is where Android standalone apps, such as the Settings
app, the Browser, the Launcher (in CM10's case it's called
Trebuchet), 
</p></div>

</div>

<div id="outline-container-4-18-13" class="outline-4">
<h4 id="sec-4-18-13">prebuilt/ (and prebuilts/)</h4>
<div class="outline-text-4" id="text-4-18-13">

<p>These folders contain prebuilt toolchains for cross-compiling on linux
and darwin (MacOS X) and a few tools for Windows. Cross-compiling
allows you to build Android for an architecture (such as ARM-based
CPU) from another architecture (such as x86<sub>64</sub>).
</p></div>

</div>

<div id="outline-container-4-18-14" class="outline-4">
<h4 id="sec-4-18-14">system/</h4>
<div class="outline-text-4" id="text-4-18-14">

<p>Lower-level linuxy system stuff such as netd, fastboot support, the
shell (which you can use to type commands into your device), etc. are
here.
</p></div>

</div>

<div id="outline-container-4-18-15" class="outline-4">
<h4 id="sec-4-18-15">vendor/</h4>
<div class="outline-text-4" id="text-4-18-15">

<p>The /vendor folder contains stuff particular to a vendor build such as
CyanogenMod. It's also the place where proprietary blobs are extracted
from the device, again using the same vendor/device codename
convention as under device/.
</p>

</div>
</div>

</div>

<div id="outline-container-4-19" class="outline-3">
<h3 id="sec-4-19">After You Build</h3>
<div class="outline-text-3" id="text-4-19">

<p><a href="http://wiki.cyanogenmod.org/w/After_You_Build">http://wiki.cyanogenmod.org/w/After_You_Build</a>
</p>
<ul>
<li>Build with other toolchains
</li>
<li>Add a translation 
   You can generally find the strings that need to be added or changed
  within the apps in packages/apps/[APP NAME]/res/. The strings.xml
  files for these apps contain the bits of text that contain
  translations.

<p>  
  If you want to translate Android itself (as opposed to apps that run
  in Android), you will need to look in the frameworks directory.run
  from ~/android/system/frameworks. <code>$ find . | grep strings.xml</code>
</p></li>
<li>Make Other Original Modifications
  mm -B to rebuild all the files for this module and send the results
  to $OUT.
</li>
<li>Start a port to a new device!
</li>
</ul>


</div>

</div>

<div id="outline-container-4-20" class="outline-3">
<h3 id="sec-4-20">adding your own app</h3>
<div class="outline-text-3" id="text-4-20">

<p><a href="http://wiki.cyanogenmod.org/w/Doc:_adding_your_own_app">http://wiki.cyanogenmod.org/w/Doc:_adding_your_own_app</a>
</p>
</div>

<div id="outline-container-4-20-1" class="outline-4">
<h4 id="sec-4-20-1">The "easy" way&ndash; Add it to the zip manually</h4>
<div class="outline-text-4" id="text-4-20-1">

<p>One way to do this is to simply add the .apk into the .zip and then
edit the recovery installation script (written in a simple scripting
language called "edify") to copy the file from the .zip to the
device.
</p>
</div>

</div>

<div id="outline-container-4-20-2" class="outline-4">
<h4 id="sec-4-20-2">The "right" way: Make a part of the build repository so it auto-builds</h4>
<div class="outline-text-4" id="text-4-20-2">


</div>

<div id="outline-container-4-20-2-1" class="outline-5">
<h5 id="sec-4-20-2-1">Add app source to /packages/apps</h5>
<div class="outline-text-5" id="text-4-20-2-1">

<p>You can do this manually, or you can do it via the
.repo/local<sub>manifests</sub>/*.xml. If you do it this way, a repo sync will
update the source to your app from whatever git repository you name in
the local manifest.
</p>
</div>

</div>

<div id="outline-container-4-20-2-2" class="outline-5">
<h5 id="sec-4-20-2-2">Determine the name of the project from Android.mk</h5>
<div class="outline-text-5" id="text-4-20-2-2">

<p>Regardless of how you put the source in packages/apps/, assuming that
the source for the app has an Android.mk Makefile
</p>
<p>
LOCAL<sub>PACKAGE</sub><sub>NAME</sub> := PackageName
</p>
</div>

</div>

<div id="outline-container-4-20-2-3" class="outline-5">
<h5 id="sec-4-20-2-3">Add the project to device.mk (or whatever .mk) in the device folder</h5>
<div class="outline-text-5" id="text-4-20-2-3">

<p>Then just add that project to be built in the
/device/[MANUFACTURER]/[CODENAME]/device.mk file.
</p>
<p>
Now you have a choice. If PRODUCT<sub>PACKAGES</sub> was previously defined, you
can add a value like this:
</p>
<p>
PRODUCT<sub>PACKAGES</sub> += MyPackageName
</p>
<p>
official doc:<a href="http://www.kandroid.org/ndk/docs/ANDROID-MK.html">http://www.kandroid.org/ndk/docs/ANDROID-MK.html</a>
</p>



</div>
</div>
</div>

</div>

<div id="outline-container-4-21" class="outline-3">
<h3 id="sec-4-21">porting intro</h3>
<div class="outline-text-3" id="text-4-21">

<p><a href="http://wiki.cyanogenmod.org/w/Doc:_porting_intro">http://wiki.cyanogenmod.org/w/Doc:_porting_intro</a>
</p>
</div>

<div id="outline-container-4-21-1" class="outline-4">
<h4 id="sec-4-21-1">Prerequisites</h4>
<div class="outline-text-4" id="text-4-21-1">

<p>nearly everything you need to do will be in the
/device/[vendor]/[codename], /vendor/[vendor]/[codename], and
/kernel/[vendor]/[codename] directories.
</p></div>

</div>

<div id="outline-container-4-21-2" class="outline-4">
<h4 id="sec-4-21-2">Collect information about your device</h4>
<div class="outline-text-4" id="text-4-21-2">

<p> Go to wikipedia and identify the product name, code name,
 architecture, memory size, internal storage size, and platform
 architecture. Put this information in a file for easy retrieval. 
</p></div>

</div>

<div id="outline-container-4-21-3" class="outline-4">
<h4 id="sec-4-21-3">Look at the device's current /system/build.prop</h4>
<div class="outline-text-4" id="text-4-21-3">

<p>there should be a file, <code>/system/build.prop</code>, This file contains
definitions for various parameters and settings used by Android.
</p>
<ul>
<li>Write down the value of the <code>ro.product.manufacturer parameter</code>.
  This will be your <b>vendor</b> name.
</li>
<li>Write down the value of the <code>ro.product.device parameter</code>. This will
  be your device <b>codename</b>. 
</li>
<li>Note: Sometimes a device is identified in other parameters such as
  <code>ro.product.board</code>
</li>
</ul>


<p>
Keep the build.prop file handy, as you may refer to it later.
</p></div>

</div>

<div id="outline-container-4-21-4" class="outline-4">
<h4 id="sec-4-21-4">Examine boot.img and recovery.img</h4>
<div class="outline-text-4" id="text-4-21-4">

<p>Note:
</p>
<p>
The ramdisk is a tiny group of files and directories that are loaded
into memory along with the kernel. The kernel then runs one of the
files in the ramdisk called init, which then runs a script (init.rc,
init.[codename].rc, etc.) that in turns loads the rest of Android. The
ramdisk and kernel can be packaged together in a number of different
ways using tools with names like mkbootimg, mkimage, and other
methods.
</p></div>

</div>

<div id="outline-container-4-21-5" class="outline-4">
<h4 id="sec-4-21-5">Determine the partition scheme</h4>
<div class="outline-text-4" id="text-4-21-5">

<p>It is important to ascertain the <b>partition scheme</b> of the device.
know which partitions are assigned to /system, /data, /cache, and
/sdcard.
</p>
<p>
You want to know which partitions exist, on what device, how they are
mounted, as well as the size of the partitions. This information may
be transferred later to the BoardConfig.mk file in your /vendor
directory.
</p>
<p>
If you're lucky, a recovery.fstab file can be located in a
recovery.img file, speeding up the process of figuring out what goes
where. Also, the init.[codename].rc file in the ramdisk may have the
information. Look for the lines near the top where the partitions are
mounted.
</p>
<p>
Also, the command:
<code>$ cat /proc/partitions</code>
</p>
<p>
from a running device can also help you identify the partitions. Also
see <code>/proc/emmc</code>, <code>/proc/mounts</code> or <code>/proc/mtd</code>. You may also get some
information from the command mount (run as root).
</p>
<p>
Also check <code>/cache/recovery.log</code> or <code>/tmp/recovery.log</code>.
</p>
<p>
Finally, if you have source code to the <b>bootloader</b>, , you will
likely find the information there as well.
</p></div>

</div>

<div id="outline-container-4-21-6" class="outline-4">
<h4 id="sec-4-21-6">Set up three new directories</h4>
<div class="outline-text-4" id="text-4-21-6">

<ol>
<li><code>device/[vendor]/[codename]/</code> &ndash; this is where the installation files
   specific to your device will go. The device/ directory contain
   99-100% of the configuration settings and other code for particular
   devices. You'll get to know this directory pretty well.
</li>
<li><code>vendor/[vendor]/[codename]/</code> &ndash; The vendor/ directory contains
   proprietary, binary "blobs" that are backed up from the original
   device
</li>
<li><code>kernel/[vendor]/[codename]/</code> &ndash; the kernel source goes here. When
   you first start your porting effort, you may wish to simplify
   things by using a pre-built kernel (such as the one that came with
   the stock installation) rather than building the kernel from
   scratch. The trick to that will be extracting the kernel out of the
   stock system from whatever format it may be in, and then
   re-packaging it, along with a new ramdisk, into a form that your
   device can use.
</li>
</ol>


</div>

<div id="outline-container-4-21-6-1" class="outline-5">
<h5 id="sec-4-21-6-1">Method 1: Use <code>mkvendor.sh</code> to generate skeleton files</h5>
<div class="outline-text-5" id="text-4-21-6-1">

<p>Use the <code>mkvendor.sh</code> script in <code>build/tools/devices/</code> to
automatically generate the directories.
</p>
<p>
Note:
The mkvendor script only works with devices that use a standard
boot.img file, using the standard Android conventions and headers. It
won't work for devices that deviate from this standard (Nook Color,
Touchpad, etc.).
</p>
<p>
This script accepts three parameters: vendor, codename, and a boot.img file.
</p>
<p>
Example usage:
</p>


<pre class="src src-sh">$ ./build/tools/device/mkvendor.sh samsung i9300 ~/Desktop/i9300boot.img
</pre>


<p>
The command above should create a <i>device/samsung/i9300</i> folder within
your CyanogenMod source repo structure. And inside the folder, the
files AndroidBoard.mk, AndroidProducts.mk, BoardConfig.mk, cm.mk,
device<sub>[codename]</sub>.mk, kernel (the binary), recovery.fstab, etc.
</p>
<p>
This will not build the kernel/ directory. You will need to do that
later, when you are ready to build the kernel.
</p>
</div>

</div>

<div id="outline-container-4-21-6-2" class="outline-5">
<h5 id="sec-4-21-6-2">Method 2: Fork a similar device's git repository</h5>
<div class="outline-text-5" id="text-4-21-6-2">

</div>

</div>

<div id="outline-container-4-21-6-3" class="outline-5">
<h5 id="sec-4-21-6-3">Method 3: create the directories and files manually</h5>
<div class="outline-text-5" id="text-4-21-6-3">

</div>
</div>

</div>

<div id="outline-container-4-21-7" class="outline-4">
<h4 id="sec-4-21-7">Customize the files</h4>
<div class="outline-text-4" id="text-4-21-7">

<p>There are many files in the device/ folders. We will start by focusing
on four files BoardConfig.mk, device<sub>[codename]</sub>.mk, cm.mk,
recovery.fstab, and kernel to get recovery working for your device.
</p>

</div>

<div id="outline-container-4-21-7-1" class="outline-5">
<h5 id="sec-4-21-7-1">BoardConfig.mk</h5>
<div class="outline-text-5" id="text-4-21-7-1">

<p>The following parameters must be set properly in BoardConfig to
compile a working recovery image:
</p>


<pre class="src src-sh">TARGET_ARCH: set to arm for almost all current Android devices.
BOARD_KERNEL_CMDLINE: not all devices pass boot parameters however if your device does this must be filled out properly<span style="color: #00ffff;"> in</span> order to boot successfully.
BOARD_KERNEL_PAGESIZE: the pagesize of the stock boot.img and must be set properly<span style="color: #00ffff;"> in</span> order to boot. Typical values for this are 2048 and 4096 and this information can be extracted from the stock kernel.
BOARD_BOOTIMAGE_PARTITION_SIZE: the number of bytes allocated to the kernel image partition.
BOARD_RECOVERYIMAGE_PARTITION_SIZE: the number of bytes allocated to the recovery image partition.
BOARD_SYSTEMIMAGE_PARTITION_SIZE: the number of bytes allocated to the Android system filesystem partition.
BOARD_USERDATAIMAGE_PARTITION_SIZE: the number of bytes allocated to the Android data filesystem partition.
BOARD_HAS_NO_SELECT_BUTTON: (optional), use this if your device needs to use its Power button to confirm selections<span style="color: #00ffff;"> in</span> recovery.
BOARD_FORCE_RAMDISK_ADDRESS / BOARD_MKBOOTIMG_ARGS: (optional), use these to force a specific address for the ramdisk. This is usually needed on larger partitions<span style="color: #00ffff;"> in</span> order for the ramdisk to be loaded properly where it<span style="color: #ffa07a;">'s expected to exist. This value can be obtained from the stock kernel. The former is deprecated as of Android 4.2.x and the latter will now be used in 4.2.x and beyond.</span>
</pre>

<p>
Note:
The above information can be obtained by multiplying the size from
/proc/partitions by the block size, typically 1024.
</p>
</div>

</div>

<div id="outline-container-4-21-7-2" class="outline-5">
<h5 id="sec-4-21-7-2">device<sub>[codename]</sub>.mk</h5>
<div class="outline-text-5" id="text-4-21-7-2">

<p>The device<sub>codename</sub>.mk makefile contains instructions about which
Android packages to build, and where to copy specific files and
packages, or specific properties to set during your compilation.
</p>
<p>
This file can be used to copy vital files into the ramdisk at compilation time.
</p>
<ul>
<li><code>PRODUCT_COPY_FILES</code>: used to copy files during compilation into the
  ramdisk, which will be located at $OUT/recovery/root.
  Example:
  <code>$(LOCAL_PATH)/sbin/offmode_charging:recovery/root/sbin/offmode_charging \</code>
  This will copy the file offmode<sub>charging</sub> binary into the sbin folder within the ramdisk.
</li>
<li><code>PRODUCT_NAME / PRODUCT_DEVICE</code>: used for setting the value of your
  codename. This is the name of the device you load with Lunch.
</li>
</ul>

</div>

</div>

<div id="outline-container-4-21-7-3" class="outline-5">
<h5 id="sec-4-21-7-3">kernel</h5>
<div class="outline-text-5" id="text-4-21-7-3">

<p>This is simply the prebuilt kernel image or a kernel you built
yourself used to boot the device. The format of the kernel may be in a
zImage or uImage, depending on the requirements of the architecture of
your device.
</p></div>

</div>

<div id="outline-container-4-21-7-4" class="outline-5">
<h5 id="sec-4-21-7-4">cm.mk</h5>
<div class="outline-text-5" id="text-4-21-7-4">

<p>You'll need to make a few changes to this file to integrate with the
lunch, brunch, and breakfast commands, so that your device shows up on
the list and builds properly. You'll also set some variables (see
other devices) to indicate what size splash animation should be used,
whether this is a tablet or phone, etc.
</p></div>

</div>

<div id="outline-container-4-21-7-5" class="outline-5">
<h5 id="sec-4-21-7-5">recovery.fstab</h5>
<div class="outline-text-5" id="text-4-21-7-5">

<p>recovery.fstab defines the file system mount point, file system type,
and block device for each of the partitions in your device. It works
almost exactly like /etc/fstab in a standard Linux operating system.
</p>
<p>
Example:
</p>


<pre class="src src-sh">/system         ext4            /dev/block/mmcblk0p32 
</pre>

<p>
This sets the block device at mmcblk0p32 to be mounted on /system as
filesystem type ext4
</p>
</div>
</div>

</div>

<div id="outline-container-4-21-8" class="outline-4">
<h4 id="sec-4-21-8">Then build a test recovery image</h4>
<div class="outline-text-4" id="text-4-21-8">

<p>To build only the recovery, set up lunch as with a regular build, and
say <code>make recoveryimage</code>
</p></div>

</div>

<div id="outline-container-4-21-9" class="outline-4">
<h4 id="sec-4-21-9">Adjust recovery<sub>ui</sub>.cpp if necessary</h4>
<div class="outline-text-4" id="text-4-21-9">

<p>You may discover that although the recovery image runs, some of the
hardware buttons, such as the volume buttons or power buttons, which
would normally be used to scroll through the options, don't work.
</p>
<p>
You may need to adjust the GPIO values to get the buttons to be
recognized. Similarly, you may wish to include/exclude options or
modify other UI elements.
</p>
<p>
To do this, you may wish to create and edit the
<code>/device/[vendor]/[codename]/recovery/recovery_ui.cpp</code>. You can find
ample examples of this file, the associated <code>recovery/Android.mk</code> file
that builds it, and how it is used.
</p>
<p>
Helpful Tip: The GPIO values for your device may be found in the kernel source.
</p></div>

</div>

<div id="outline-container-4-21-10" class="outline-4">
<h4 id="sec-4-21-10">Put your device folder in github, and use a local manifest to automatically sync it with repo sync</h4>
<div class="outline-text-4" id="text-4-21-10">

<p>When naming your repository, use the format
<code>android_device_VENDOR_CODENAME</code>, where VENDOR and CODENAME use the new
device's values. So, let's say your GitHub account name is "fat-tire"
and your device codename is "encore", manufactured by Barnes and
Noble. You should call your repository android<sub>device</sub><sub>bn</sub><sub>encore</sub>. It
would be accessible at
<a href="https://github.com/fat-tire/android_device_bn_encore">https://github.com/fat-tire/android_device_bn_encore</a>. Similarly, the
kernel repository would be called android<sub>kernel</sub><sub>bn</sub><sub>encore</sub>. It would
be accessible at <a href="https://github.com/fat-tire/android_kernel_bn_encore">https://github.com/fat-tire/android_kernel_bn_encore</a>.
</p>

<p>
The last thing to do is create a local manifest for other people to
use to automatically download and their keep up-to-date with your
changes. Here's an example, using the above scenario:
</p>



<pre class="src src-sh">&lt;?xml <span style="color: #eedd82;">version</span>=<span style="color: #ffa07a;">"1.0"</span> <span style="color: #eedd82;">encoding</span>=<span style="color: #ffa07a;">"UTF-8"</span>?&gt;
&lt;manifest&gt;
  &lt;project <span style="color: #eedd82;">name</span>=<span style="color: #ffa07a;">"fat-tire/android_device_bn_encore"</span> <span style="color: #eedd82;">path</span>=<span style="color: #ffa07a;">"device/bn/encore"</span> <span style="color: #eedd82;">remote</span>=<span style="color: #ffa07a;">"github"</span> <span style="color: #eedd82;">revision</span>=<span style="color: #ffa07a;">"cm-10.1"</span> /&gt;
  &lt;project <span style="color: #eedd82;">name</span>=<span style="color: #ffa07a;">"fat-tire/android_kernel_bn_encore"</span> <span style="color: #eedd82;">path</span>=<span style="color: #ffa07a;">"kernel/bn/encore"</span> <span style="color: #eedd82;">remote</span>=<span style="color: #ffa07a;">"github"</span> <span style="color: #eedd82;">revision</span>=<span style="color: #ffa07a;">"cm-10.1"</span> /&gt;
&lt;/manifest&gt;
</pre>

</div>

</div>

<div id="outline-container-4-21-11" class="outline-4">
<h4 id="sec-4-21-11">Add the blobs to the vendor/ directory</h4>
<div class="outline-text-4" id="text-4-21-11">

<p>This requires three steps:
</p>
<ol>
<li>Create <code>extract-files.sh</code> and <code>setup-makefiles.sh</code> scripts to pull
   those blob files from the device using adb and put them in the
   right <i>vendor</i> directory. There are plenty of examples available
   for other devices.

</li>
<li>Create an .mk Makefile to copy those files to the $OUT folder
   during the build process and put them in the right place. Again,
   use other devices as a guide for what this Makefile should look
   like. An example filename might be BoardConfigVendor.mk

</li>
<li>Make sure that the Makefile you just created is included from your
   main BoardConfig.mk via a command such as <code>-include    vendor/[vendor]/[codename]/BoardConfigVendor.mk</code>. Again, existing
   devices can illustrate how this is done.
</li>
</ol>

</div>

</div>

<div id="outline-container-4-21-12" class="outline-4">
<h4 id="sec-4-21-12">Now revise the device/ directory</h4>
<div class="outline-text-4" id="text-4-21-12">

<p>Since you have a working recovery, go back and start modifying the
files in the device/ folder. As always, use other similar devices as a
reference.
</p></div>

</div>

<div id="outline-container-4-21-13" class="outline-4">
<h4 id="sec-4-21-13">Getting help from the manufacturers &amp; vendors</h4>
<div class="outline-text-4" id="text-4-21-13">

<ul>
<li>Google  Google's Git Repository <a href="https://android.googlesource.com/">https://android.googlesource.com/</a> ,
  Nexus binary blobs <a href="https://developers.google.com/android/nexus/drivers">https://developers.google.com/android/nexus/drivers</a>
</li>
<li>HTC   Dev Center <a href="http://www.htcdev.com/devcenter/">http://www.htcdev.com/devcenter/</a>
</li>
<li>Nvidia         Tegra  Tegra's GitWeb <a href="http://nv-tegra.nvidia.com/gitweb/">http://nv-tegra.nvidia.com/gitweb/</a>
</li>
<li>Qualcomm       MSM/QSD        www.codeaurora.org
</li>
<li>Texas Instruments      OMAP   www.omapzoom.com , Omappedia:
  <a href="http://www.omappedia.org/wiki/Main_Page">http://www.omappedia.org/wiki/Main_Page</a>
</li>
</ul>

</div>

</div>

<div id="outline-container-4-21-14" class="outline-4">
<h4 id="sec-4-21-14">Adding XML Overlays</h4>
<div class="outline-text-4" id="text-4-21-14">

<p>It's very likely in your <code>device_[codename].mk</code> file, there's a line that looks like this:
</p>


<pre class="src src-sh">DEVICE_PACKAGE_OVERLAYS := <span style="color: #ffa07a;">\</span>
    device/[vendor]/[codename]/overlay
</pre>


<p>
What this does is set the overlay/ folder to allow you to override any
XML file used by Android frameworks or apps, just for this device. To
do so, create a directory structure which mirrors the path leading to
an XML file, starting from the root of your source. Then replace the
file you want to overlay.
</p>
<p>
Example: Let's say you want to override some standard Android
settings. Look at the file in
<code>frameworks/base/core/res/res/values/config.xml</code>. Then copy it to
<code>device/[vendor]/[codename]/overlay/frameworks/base/core/res/res/values/config.xml</code>.
Now YOUR version will be used instead of the other one. You only need
to include the settings you wish to override&ndash; not all of them, so you
can pare down the file to those few that change from the default.
</p>
<p>
You can overlay any XML file, affecting layouts, settings,
preferences, translations, and more.
</p>
</div>
</div>

</div>

<div id="outline-container-4-22" class="outline-3">
<h3 id="sec-4-22">Android-Porting &ndash; the official Google Group on this topic</h3>
<div class="outline-text-3" id="text-4-22">

<p><a href="https://groups.google.com/forum/?fromgroups#!forum/android-porting">https://groups.google.com/forum/?fromgroups#!forum/android-porting</a>
</p>
</div>

</div>

<div id="outline-container-4-23" class="outline-3">
<h3 id="sec-4-23">Integrated Kernel Building – some info about CM's automatic kernel-building.</h3>
<div class="outline-text-3" id="text-4-23">

<p><a href="http://wiki.cyanogenmod.org/w/Doc:_integrated_kernel_building">http://wiki.cyanogenmod.org/w/Doc:_integrated_kernel_building</a>
</p>

</div>

<div id="outline-container-4-23-1" class="outline-4">
<h4 id="sec-4-23-1">Deploying the kernel source at the proper location</h4>
<div class="outline-text-4" id="text-4-23-1">

<p>The minimal requirement is that the kernel's source tree for that
device be present at <code>kernel/vendor-name/device-name</code>.
</p>

</div>

<div id="outline-container-4-23-1-1" class="outline-5">
<h5 id="sec-4-23-1-1">Officially supported devices</h5>
<div class="outline-text-5" id="text-4-23-1-1">

<p>For devices which are part of mainline CyanogenMod and have their
kernels in CM's github, this can be accomplished by usage of
CyanogenMod's roomservice feature. Create a cm.dependencies file (if
it doesn't exist yet) at the root of your device tree, with the
following syntax:
</p>


<pre class="src src-sh">[
 {
   <span style="color: #ffa07a;">"repository"</span>: <span style="color: #ffa07a;">"name-of-repository-in-the-CyanogenMod-github"</span>,
   <span style="color: #ffa07a;">"target_path"</span>: <span style="color: #ffa07a;">"kernel/&lt;vendorname&gt;/&lt;devicename&gt;"</span>,
   <span style="color: #ffa07a;">"branch"</span>: <span style="color: #ffa07a;">"name-of-branch"</span>
 }
]
</pre>


</div>

</div>

<div id="outline-container-4-23-1-2" class="outline-5">
<h5 id="sec-4-23-1-2">Work-in-progress, unofficial, or otherwise non-integrated devices</h5>
<div class="outline-text-5" id="text-4-23-1-2">

<p>For devices which don't have their kernel source at the CM github,
usage of <code>local_manifest.xml</code> is recommended in order to deploy the
source at the right location, and keeping it synchronized.
</p>
</div>

</div>

<div id="outline-container-4-23-1-3" class="outline-5">
<h5 id="sec-4-23-1-3">Devices using shared kernel repositories</h5>
<div class="outline-text-5" id="text-4-23-1-3">

<p>If your device shares a kernel with others, the default
kernel/devicename path will lead to unnecessary duplication of source
trees, so usage of the TARGET<sub>KERNEL</sub><sub>SOURCE</sub> configuration variable is
advised. All devices sharing that source should have the following
line in their <code>BoardConfig.mk</code> files:
</p>



<pre class="src src-sh">TARGET_KERNEL_SOURCE := kernel/vendor-name/unique-shared-source-name=
</pre>

</div>
</div>

</div>

<div id="outline-container-4-23-2" class="outline-4">
<h4 id="sec-4-23-2">Configuring the device to build the kernel</h4>
<div class="outline-text-4" id="text-4-23-2">

<p>Just add the TARGET<sub>KERNEL</sub><sub>CONFIG</sub> variable to your <code>BoardConfig.mk</code>
file, pointing to the configuration file name for your device (as
present in <code>arch/arm/configs</code>). For example:
</p>


<pre class="src src-sh">TARGET_KERNEL_CONFIG := cyanogenmod_mydevice_defconfig
</pre>


<p>
Any modules built will be deployed at <code>/system/lib/modules/</code> in the
final image
</p>
<p>
If your device requires uImage, also ensure the following is present
in your '<code>BoardConfig.mk</code>'
</p>


<pre class="src src-sh">BOARD_USES_UBOOT := true
</pre>

</div>

</div>

<div id="outline-container-4-23-3" class="outline-4">
<h4 id="sec-4-23-3">Building out-of-tree kernel modules</h4>
<div class="outline-text-4" id="text-4-23-3">

<p>To build these modules, the <code>TARGET_KERNEL_MODULES</code> variable can be
used, pointing to a <code>make target</code> that will build and install such
modules. Definition of such a target is the device author's
responsibility, the only restriction is that it is a normal makefile
recipe. To include, for example, the TI WLAN modules, this can be
used:
</p>


<pre class="src src-sh">TIWLAN_MODULES:
       make -C hardware/ti/wlan/wl1283/platforms/os/linux/ <span style="color: #eedd82;">KERNEL_DIR</span>=$(KERNEL_OUT) <span style="color: #eedd82;">ARCH</span>=<span style="color: #ffa07a;">"arm"</span> <span style="color: #eedd82;">CROSS_COMPILE</span>=<span style="color: #ffa07a;">"arm-eabi-"</span> <span style="color: #eedd82;">TNETW</span>=1273 <span style="color: #eedd82;">RANDOM_MAC</span>=n <span style="color: #eedd82;">REPORT_LOG</span>=n
       mv hardware/ti/wlan/wl1283/platforms/os/linux/tiwlan_drv.ko $(KERNEL_MODULES_OUT)
       make -C hardware/ti/wlan/wl1283_softAP/platforms/os/linux/ <span style="color: #eedd82;">KERNEL_DIR</span>=$(KERNEL_OUT) <span style="color: #eedd82;">ARCH</span>=<span style="color: #ffa07a;">"arm"</span> <span style="color: #eedd82;">CROSS_COMPILE</span>=<span style="color: #ffa07a;">"arm-eabi-"</span> <span style="color: #eedd82;">TNETW</span>=1273 <span style="color: #eedd82;">REPORT_LOG</span>=n
       mv hardware/ti/wlan/wl1283_softAP/platforms/os/linux/tiap_drv.ko $(KERNEL_MODULES_OUT)

TARGET_KERNEL_MODULES := TIWLAN_MODULES
</pre>

<p>
you can just paste your current standalone build commands into a make
recipe, replacing the kernel source path with the $(KERNEL<sub>OUT</sub>)
variable.
</p></div>

</div>

<div id="outline-container-4-23-4" class="outline-4">
<h4 id="sec-4-23-4">Fallback to prebuilts</h4>
<div class="outline-text-4" id="text-4-23-4">

<p>If for some reason the kernel source can't be present, you can still
fall back to prebuilt binaries, by defining the <code>TARGET_PREBUILT_KERNEL</code>
variable, like this:
</p>


<pre class="src src-sh">TARGET_PREBUILT_KERNEL := device/&lt;vendor&gt;/&lt;device&gt;/kernel
</pre>

</div>

</div>

<div id="outline-container-4-23-5" class="outline-4">
<h4 id="sec-4-23-5">Full example</h4>
<div class="outline-text-4" id="text-4-23-5">

<p>The following is the p920's configuration, which attempts to build the
kernel, uses external modules, and has a prebuilt fallback:
</p>


<pre class="src src-sh"><span style="color: #ff7f24;"># </span><span style="color: #ff7f24;">Try to build the kernel</span>
TARGET_KERNEL_CONFIG := cyanogenmod_cosmo_defconfig
<span style="color: #ff7f24;"># </span><span style="color: #ff7f24;">Keep this as a fallback</span>
TARGET_PREBUILT_KERNEL := device/lge/p920/kernel

KERNEL_EXTERNAL_MODULES:
        make -C hardware/ti/wlan/wl1283/platforms/os/linux/ <span style="color: #eedd82;">KERNEL_DIR</span>=$(KERNEL_OUT) <span style="color: #eedd82;">ARCH</span>=<span style="color: #ffa07a;">"arm"</span> <span style="color: #eedd82;">CROSS_COMPILE</span>=<span style="color: #ffa07a;">"arm-eabi-"</span> <span style="color: #eedd82;">TNETW</span>=1273 <span style="color: #eedd82;">RANDOM_MAC</span>=n <span style="color: #eedd82;">REPORT_LOG</span>=n
        mv hardware/ti/wlan/wl1283/platforms/os/linux/tiwlan_drv.ko $(KERNEL_MODULES_OUT)
        make -C hardware/ti/wlan/wl1283_softAP/platforms/os/linux/ <span style="color: #eedd82;">KERNEL_DIR</span>=$(KERNEL_OUT) <span style="color: #eedd82;">ARCH</span>=<span style="color: #ffa07a;">"arm"</span> <span style="color: #eedd82;">CROSS_COMPILE</span>=<span style="color: #ffa07a;">"arm-eabi-"</span> <span style="color: #eedd82;">TNETW</span>=1273 <span style="color: #eedd82;">REPORT_LOG</span>=n
        mv hardware/ti/wlan/wl1283_softAP/platforms/os/linux/tiap_drv.ko $(KERNEL_MODULES_OUT)

TARGET_KERNEL_MODULES := KERNEL_EXTERNAL_MODULES
</pre>




</div>
</div>

</div>

<div id="outline-container-4-24" class="outline-3">
<h3 id="sec-4-24">Submitting A Port – How to get your port to a new device accepted as "official"</h3>
<div class="outline-text-3" id="text-4-24">

<p><a href="http://wiki.cyanogenmod.org/w/Doc:_Submitting_A_Port">http://wiki.cyanogenmod.org/w/Doc:_Submitting_A_Port</a>
</p>
</div>

<div id="outline-container-4-24-1" class="outline-4">
<h4 id="sec-4-24-1">Prerequisites</h4>
<div class="outline-text-4" id="text-4-24-1">

<ul>
<li>Full hardware support &ndash; Everything&ndash; every peripheral, every
  wireless feature&ndash; that is supported by stock <b>must</b> be supported by
  CyanogenMod.

</li>
<li>Passed the CTS &ndash; The Android Compatibility Test
  Suite(<a href="http://source.android.com/compatibility/cts-intro.html">http://source.android.com/compatibility/cts-intro.html</a>) will
  ensure that your port is functional. If it doesn't pass, get back to
  work until it does.

</li>
<li>Stability &ndash; Nothing should crash. Ever. CyanogenMod has a reputation for stability and your port must be rock-solid. This means no "sleep of deaths" either.
</li>
<li>No overclock by default &ndash; While overclocking options in the Performance menu is well and good, leave the default speeds at stock.
</li>
<li>Do not over-volt either &ndash; Do not go outside of the spec for power consumption. If you want to provide sysfs methods for upping the voltage, that's up to you. But it must not be a default setting.
</li>
<li>You have designated at least one device maintainer and at least one
  person to be responsible for the device's wiki information. The
  former will evaluate submissions to the device's repositories. The
  latter will ensure that the information/documentation about the
  device on the wiki is always up-to-date and correct. These people
  must be identified when applying for official recognition.
</li>
</ul>

</div>

</div>

<div id="outline-container-4-24-2" class="outline-4">
<h4 id="sec-4-24-2">Submitting your device</h4>
<div class="outline-text-4" id="text-4-24-2">

<p> Send an email to devrel@cyanogenmod.org
</p><ul>
<li>This email must contain links to your github repositories for your device
</li>
<li>This email must contain gtalk and email addresses for contacting you
</li>
<li>If a team worked on your device, all team members must be listed in
  the email
</li>
</ul>




</div>
</div>

</div>

<div id="outline-container-4-25" class="outline-3">
<h3 id="sec-4-25">Configure SSH access on your device (Legacy - CM7)</h3>
<div class="outline-text-3" id="text-4-25">

<p><a href="http://wiki.cyanogenmod.org/w/Doc:_dropbear">http://wiki.cyanogenmod.org/w/Doc:_dropbear</a>
</p>
</div>

<div id="outline-container-4-25-1" class="outline-4">
<h4 id="sec-4-25-1">Dropbear</h4>
<div class="outline-text-4" id="text-4-25-1">

<p><a href="http://matt.ucc.asn.au/dropbear/dropbear.html">http://matt.ucc.asn.au/dropbear/dropbear.html</a>
Dropbear is a relatively small SSH server and client.
</p></div>

</div>

<div id="outline-container-4-25-2" class="outline-4">
<h4 id="sec-4-25-2">Create a SSH key for logging in</h4>
<div class="outline-text-4" id="text-4-25-2">

<p>In linux:
</p>
<p>
<code>ssh-keygen -t rsa</code>
The output should look something like this:
</p>


<pre class="src src-sh">Generating public/private rsa key pair.
Enter file<span style="color: #00ffff;"> in</span> which to save the key (/home/user/.ssh/id_rsa):
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved<span style="color: #00ffff;"> in</span> &lt;Filename&gt;.
Your public key has been saved<span style="color: #00ffff;"> in</span> &lt;Filename&gt;.
adb push &lt;Filename&gt; /sdcard/authorized_keys
</pre>


<p>
In Windows: If using puttygen, paste the string from the puttygen
window (looks like "<code>ssh-rsa AAAAB3...hclQ==rsa-key-20100227</code>") in
authorized<sub>keys</sub>.
</p>
</div>

</div>

<div id="outline-container-4-25-3" class="outline-4">
<h4 id="sec-4-25-3">Prepare the Android Device</h4>
<div class="outline-text-4" id="text-4-25-3">

<p>On the computer, open terminal and run the following commands:
</p>


<pre class="src src-sh">adb shell
mkdir /data/dropbear
chmod 755 /data/dropbear
mkdir /data/dropbear/.ssh
chmod 700 /data/dropbear/.ssh
mv /sdcard/authorized_keys /data/dropbear/.ssh/
chown root: /data/dropbear/.ssh/authorized_keys
chmod 600 /data/dropbear/.ssh/authorized_keys
dropbearkey -t rsa -f /data/dropbear/dropbear_rsa_host_key
dropbearkey -t dss -f /data/dropbear/dropbear_dss_host_key
</pre>


<p>
The end result should look something like this:
</p>


<pre class="src src-sh"><span style="color: #ff7f24;"># </span><span style="color: #ff7f24;">ls -la /data/dropbear</span>
drwxr-xr-x    1 root     root          2048 Sep  5 14:55 .
drwxrwx--x    1 system   system        2048 Sep  5 14:08 ..
drwx------    1 root     root          2048 Sep  5 14:51 .ssh
-rw-------    1 root     root           458 Sep  5 14:09 dropbear_dss_host_key
-rw-------    1 root     root           427 Sep  5 14:09 dropbear_rsa_host_key
<span style="color: #ff7f24;"># </span><span style="color: #ff7f24;">ls -la /data/dropbear/.ssh</span>
drwx------    1 root     root          2048 Sep  5 14:51 .
drwxr-xr-x    1 root     root          2048 Sep  5 14:55 ..
-rw-------    1 root     root           406 Sep  5 14:01
authorized_keys
</pre>

<p>
Creating directories and generating rsa/dsa keys is required even if
you plan to use password login.
</p></div>

</div>

<div id="outline-container-4-25-4" class="outline-4">
<h4 id="sec-4-25-4">Finding the IP address of your Android device</h4>
<div class="outline-text-4" id="text-4-25-4">

<p><code>ifconfig eth0</code>
<code>ifconfig rmnet0</code>
</p>
<p>
If that doesn't work run cat /proc/net/dev to see the possible interfaces and use ifconfig with the appropriate interface.
</p>
</div>

</div>

<div id="outline-container-4-25-5" class="outline-4">
<h4 id="sec-4-25-5">Testing Dropbear</h4>
<div class="outline-text-4" id="text-4-25-5">

<p> Use either adb shell or terminal emulator to do the following.
</p>
<p>
<code>dropbear -s -v -F</code>
</p>
<p>
(You can use the -Y option to specify a master password for login into any account, if not using key based authentication)
</p>
<p>
The output should look something like this:
</p>


<pre class="src src-sh">...
<span style="color: #87cefa;">TRACE</span> (3220): listening on <span style="color: #ffa07a;">':22'</span>
<span style="color: #87cefa;">TRACE</span> (3220): enter dropbear_listen
<span style="color: #87cefa;">TRACE</span> (3220): dropbear_listen: all interfaces
<span style="color: #87cefa;">TRACE</span> (3220): bind(22) failed
<span style="color: #87cefa;">TRACE</span> (3220): leave dropbear_listen: success, 1 socks bound
[3220] Sep 05 15:16:43 Not backgrounding
</pre>


<p>
Now, on the computer, we will try to login to the Android device.
Replace the path to your SSH private key and IP address as
appropriate. On the computer's terminal, do the following.
</p>
<p>
<code>ssh -i ./The previously selected name for this key -l root 192.168.1.64</code>
The output should look something like this:
</p>


<pre class="src src-sh">Enter passphrase for key <span style="color: #ffa07a;">'/home/user/&lt;Filename&gt;'</span>:
<span style="color: #87cefa;">TRACE</span> (3229): entering fake-getpwnam
<span style="color: #87cefa;">TRACE</span> (3229): leaving fake-getpwnam
<span style="color: #87cefa;">TRACE</span> (3229): enter sign_key_free
<span style="color: #87cefa;">TRACE</span> (3229): enter dsa_key_free
<span style="color: #87cefa;">TRACE</span> (3229): leave dsa_key_free
<span style="color: #87cefa;">TRACE</span> (3229): enter rsa_key_free
<span style="color: #87cefa;">TRACE</span> (3229): leave rsa_key_free
<span style="color: #87cefa;">TRACE</span> (3229): leave sign_key_free
</pre>


<p>
If it didn't run ssh with the -v option to get verbose debugging output to try and see what went wrong.
</p>
<p>
If you get authentication errors, run this to show the device's public rsa key
</p>
<p>
<code>dropbearkey -y -f /data/dropbear/dropbear_rsa_host_key</code>
</p>
<ul>
<li>the key is formatted like 'ssh-rsa Som3Rand0mStr1n6 root@localhost'
</li>
<li>copy and paste it to your PCs known<sub>hosts</sub> file, ~/.ssh/known<sub>hosts</sub>
</li>
<li>and try connecting from your PC again
</li>
</ul>


<p>
Assuming everything worked, dropbear can be turned off by running:
</p>
<p>
<code>killall dropbear</code>
</p>
<p>
NOTE: For Windows (PuTTY with SSH keyfile) you need to configure putty as follows:
</p><ul>
<li>Connection » Data » Auto-login Username = root
</li>
<li>Connection » SSH » Auth » Private key file = Previously selected key file
</li>
</ul>


</div>

</div>

<div id="outline-container-4-25-6" class="outline-4">
<h4 id="sec-4-25-6">Running dropbear normally</h4>
<div class="outline-text-4" id="text-4-25-6">

<p>To run dropbear, from the Android device, run:
</p>


<pre class="src src-sh">su
dropbear -s
</pre>


<p>
Dropbear can be turned off by running:
</p>
<p>
<code>killall dropbear</code>
</p></div>

</div>

<div id="outline-container-4-25-7" class="outline-4">
<h4 id="sec-4-25-7">Automatic startup of the sshd-server on your device</h4>
<div class="outline-text-4" id="text-4-25-7">

<p>To modify the file in <i>system/etc</i> you need to remount the partition to read/write mode using
</p>
<p>
<code>mount -o remount,rw /system</code>
</p>
<p>
To run Dropbear on start up, edit the <code>/etc/init.local.rc</code> file (Your
preferred editor can be used, as long as it doesn't introduce
Windows/DOS line breaks), and add the following snippet to the end of
the file
</p>


<pre class="src src-sh"><span style="color: #ff7f24;"># </span><span style="color: #ff7f24;">start Dropbear (ssh server) service on boot</span>
service sshd /system/xbin/dropbear -s
   user  root
   group root
   oneshot
</pre>

<p>
The `oneshot` option instructs Android that the service should not be restarted if it is killed. For a full understanding of the Android Init system see here.
</p>
</div>
</div>

</div>

<div id="outline-container-4-26" class="outline-3">
<h3 id="sec-4-26">Some Tips – how to skip gerrit and push straight to the repo.</h3>
<div class="outline-text-3" id="text-4-26">

<p><a href="http://wiki.cyanogenmod.org/w/Doc:_device_maintainers">http://wiki.cyanogenmod.org/w/Doc:_device_maintainers</a>
</p>
<p>
Say you have a bunch of changes and want to skip gerrit's interface
entirely, pushing directly to the repository. For this you will need
special privileges.
</p>
<p>
This is a summary of the user-upload feature, described in detail
here
<a href="http://gerrit.googlecode.com/svn/documentation/2.0/user-upload.html">http://gerrit.googlecode.com/svn/documentation/2.0/user-upload.html</a>
</p>

</div>

<div id="outline-container-4-26-1" class="outline-4">
<h4 id="sec-4-26-1">To bypass Gerrit:</h4>
<div class="outline-text-4" id="text-4-26-1">

<ol>
<li>repo sync
</li>
<li>branch the repository to anything.
</li>
<li>In the new branch, add your commits (or merge from another branch, git pull from AOSP, or whatever gets your changes in)
</li>
<li>Next, enter cmremote. This command will add the remote (use git remote -v to see it.)
</li>
<li>To bypass gerrit, type git push cmremote HEAD:refs/heads/cm-10.1 (assuming cm-10.1 is the branch to which you are pushing.
</li>
</ol>

</div>

</div>

<div id="outline-container-4-26-2" class="outline-4">
<h4 id="sec-4-26-2">To mass-push commits to Gerrit for review</h4>
<div class="outline-text-4" id="text-4-26-2">

<ol>
<li>Repeat steps 1-4 above.
</li>
<li>Then, to mass-push TO Gerrit, use refs/for/branch instead of refs/heads/branch
</li>
</ol>

</div>

</div>

<div id="outline-container-4-26-3" class="outline-4">
<h4 id="sec-4-26-3">To create a new remote branch (on github)</h4>
<div class="outline-text-4" id="text-4-26-3">

<ol>
<li>Repeat steps 1-4 above.
</li>
<li>Then, to create a new (remote) branch, type git push -u cmremote HEAD:refs/heads/new-branch-name
</li>
</ol>


</div>
</div>

</div>

<div id="outline-container-4-27" class="outline-3">
<h3 id="sec-4-27">Barebones</h3>
<div class="outline-text-3" id="text-4-27">


</div>

<div id="outline-container-4-27-1" class="outline-4">
<h4 id="sec-4-27-1">Backup apks</h4>
<div class="outline-text-4" id="text-4-27-1">

<p><code>$ adb pull /system/app/ ~/Desktop/app/</code>
</p>
</div>

</div>

<div id="outline-container-4-27-2" class="outline-4">
<h4 id="sec-4-27-2">find applications</h4>
<div class="outline-text-4" id="text-4-27-2">




<pre class="src src-sh">$ ls /system/app
or
$ ls /data/app
<span style="color: #ff7f24;"># </span><span style="color: #ff7f24;">either in Terminal Emulator or via adb shell:</span>
$ pm list packages
<span style="color: #ff7f24;">#</span><span style="color: #ff7f24;">To see a list of installed packages along with their associated files:</span>
$ pm list packages -f

$ adb pull /data/system/packages.xml
$ adb pull /data/system/packages.list
</pre>

</div>

</div>

<div id="outline-container-4-27-3" class="outline-4">
<h4 id="sec-4-27-3">remove applications</h4>
<div class="outline-text-4" id="text-4-27-3">

<ul>
<li>ADB
</li>
</ul>




<pre class="src src-sh"><span style="color: #ff7f24;">#</span><span style="color: #ff7f24;">/system apps</span>
$ adb remount
$ adb shell rm -f /system/app/&lt;apk name&gt;.apk

<span style="color: #ff7f24;">#</span><span style="color: #ff7f24;">/data apps</span>
$ adb uninstall &lt;package name&gt;
</pre>

<ul>
<li>Term (on device)
</li>
</ul>




<pre class="src src-sh"><span style="color: #ff7f24;">#</span><span style="color: #ff7f24;">/system apps</span>
$ su
$ mount -o rw,remount /system
$ rm -f /system/app/&lt;apk name&gt;.apk

<span style="color: #ff7f24;">#</span><span style="color: #ff7f24;">/data apps</span>
$ su
$ mount -o rw,remount /data
$ rm -f /data/app/&lt;apk name&gt;.apk
$ pm uninstall &lt;package name&gt;
</pre>

</div>

</div>

<div id="outline-container-4-27-4" class="outline-4">
<h4 id="sec-4-27-4">reinstall applications</h4>
<div class="outline-text-4" id="text-4-27-4">




<pre class="src src-sh">$ adb install ~/Desktop/app/&lt;apk name&gt;.apk
</pre>


</div>
</div>

</div>

<div id="outline-container-4-28" class="outline-3">
<h3 id="sec-4-28">ClockWorkMod Instructions</h3>
<div class="outline-text-3" id="text-4-28">


</div>

<div id="outline-container-4-28-1" class="outline-4">
<h4 id="sec-4-28-1">Backup and Restore Your Device</h4>
<div class="outline-text-4" id="text-4-28-1">

<p>Note:
</p>
<p>
ClockworkMod's backup/restore feature will generally only back up the
/system, /data, /cache, /sd-ext, and /dalvik-cache areas. Other
partitions such as <i>emmc, /sdcard, and /media won't be backed up. In fact, the backed up system will typically be saved to the /sdcard</i>
partition in the <i>clockworkmod/backup</i> directory, which, depending on
your device, may or may not be actually located on a physical
removable SD card.
</p>

</div>
</div>

</div>

<div id="outline-container-4-29" class="outline-3">
<h3 id="sec-4-29">Unofficial Ports</h3>
<div class="outline-text-3" id="text-4-29">

<p><a href="http://wiki.cyanogenmod.org/w/Unofficial_Ports">http://wiki.cyanogenmod.org/w/Unofficial_Ports</a>
</p>
</div>

</div>

<div id="outline-container-4-30" class="outline-3">
<h3 id="sec-4-30">The JIRA project management system</h3>
<div class="outline-text-3" id="text-4-30">

<p><a href="http://wiki.cyanogenmod.org/w/Jira">http://wiki.cyanogenmod.org/w/Jira</a>
</p>
<p>
 <a href="https://jira.cyanogenmod.org">https://jira.cyanogenmod.org</a>
</p>
<p>
general User's Guide for JIRA 
<a href="https://confluence.atlassian.com/display/JIRA052/JIRA+Documentation">https://confluence.atlassian.com/display/JIRA052/JIRA+Documentation</a>
</p></div>

</div>

<div id="outline-container-4-31" class="outline-3">
<h3 id="sec-4-31">View the latest accepted changes</h3>
<div class="outline-text-3" id="text-4-31">

<p><a href="http://changelog.bbqdroid.org/">http://changelog.bbqdroid.org/</a>
</p>
</div>
</div>

</div>

<div id="outline-container-5" class="outline-2">
<h2 id="sec-5">Setting up a Virtual Machine for CyanogenMod development</h2>
<div class="outline-text-2" id="text-5">

<p><a href="https://skydrive.live.com/?cid=b3bff0d42ae1e534&amp;id=B3BFF0D42AE1E534!107">https://skydrive.live.com/?cid=b3bff0d42ae1e534&amp;id=B3BFF0D42AE1E534%21107</a>
</p>
</div>

</div>

<div id="outline-container-6" class="outline-2">
<h2 id="sec-6">android open source project<sup><a class="footref" name="fnr-.1" href="#fn-.1">1</a></sup></h2>
<div class="outline-text-2" id="text-6">



</div>

<div id="outline-container-6-1" class="outline-3">
<h3 id="sec-6-1">more</h3>
<div class="outline-text-3" id="text-6-1">

<p><a href="http://source.android.com/source/initializing.html">http://source.android.com/source/initializing.html</a>
</p></div>

</div>

<div id="outline-container-6-2" class="outline-3">
<h3 id="sec-6-2">Version Control with Repo and Git</h3>
<div class="outline-text-3" id="text-6-2">

<p><a href="http://source.android.com/source/version-control.html">http://source.android.com/source/version-control.html</a>
</p>
<p>
Repo is a repository management tool that we built on top of Git. Repo
unifies the many Git repositories when necessary, does the uploads to
our revision control system, and automates parts of the Android
development workflow. Repo is not meant to replace Git, only to make
it easier to work with Git in the context of Android. The repo command
is an executable Python script that you can put anywhere in your
path. 
</p>
<p>
Gerrit is a web-based code review system for projects that use git.
</p>

</div>

<div id="outline-container-6-2-1" class="outline-4">
<h4 id="sec-6-2-1">Basic Workflow</h4>
<div class="outline-text-4" id="text-6-2-1">




<pre class="src src-sh">Use repo start to start a new topic branch.
Edit the files.
Use git add to stage changes.
Use git commit to commit changes.
Use repo upload to upload changes to the review server.
</pre>

</div>

</div>

<div id="outline-container-6-2-2" class="outline-4">
<h4 id="sec-6-2-2">Task reference</h4>
<div class="outline-text-4" id="text-6-2-2">




<pre class="src src-sh">$ repo sync
$ repo sync PROJECT0 PROJECT1 PROJECT2 ...
$ repo start BRANCH_NAM
$ repo status
$ repo start BRANCH_NAME PROJECT
$ repo branches
$ repo diff
$ repo upload

$ repo prune
</pre>


</div>
</div>

</div>

<div id="outline-container-6-3" class="outline-3">
<h3 id="sec-6-3">Using Eclipse</h3>
<div class="outline-text-3" id="text-6-3">

<p><a href="http://source.android.com/source/using-eclipse.html">http://source.android.com/source/using-eclipse.html</a>
</p>
</div>

</div>

<div id="outline-container-6-4" class="outline-3">
<h3 id="sec-6-4">Android.mk file syntax specification</h3>
<div class="outline-text-3" id="text-6-4">

<p><a href="http://www.kandroid.org/ndk/docs/ANDROID-MK.html">http://www.kandroid.org/ndk/docs/ANDROID-MK.html</a>
</p>
</div>
</div>

</div>

<div id="outline-container-7" class="outline-2">
<h2 id="sec-7">XDA's wiki page<sup><a class="footref" name="fnr-.2" href="#fn-.2">2</a></sup></h2>
<div class="outline-text-2" id="text-7">



</div>

</div>

<div id="outline-container-8" class="outline-2">
<h2 id="sec-8">Rootwiki</h2>
<div class="outline-text-2" id="text-8">

<p><a href="http://rootzwiki.com/news">http://rootzwiki.com/news</a>
</p></div>

</div>

<div id="outline-container-9" class="outline-2">
<h2 id="sec-9">dd</h2>
<div class="outline-text-2" id="text-9">




<pre class="src src-sh"></pre>


<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">
<p class="footnote"><sup><a class="footnum" name="fn-.1" href="#fnr-.1">1</a></sup> <a href="http://source.android.com/">http://source.android.com/</a>
</p>


<p class="footnote"><sup><a class="footnum" name="fn-.2" href="#fnr-.2">2</a></sup> <a href="http://forum.xda-developers.com/wiki/">http://forum.xda-developers.com/wiki/</a>
</p></div>
</div>

</div>
</div>
</div>

<div id="postamble">
<p class="date">Date: 2013-05-05T10:13+0800</p>
<p class="author">Author: Shi Shougang</p>
<p class="creator"><a href="http://orgmode.org">Org</a> version 7.9.3f with <a href="http://www.gnu.org/software/emacs/">Emacs</a> version 24</p>
<a href="http://validator.w3.org/check?uri=referer">Validate XHTML 1.0</a>

</div>
</body>
</html>
