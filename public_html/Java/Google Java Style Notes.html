<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Google Java Style Notes</title>
<!-- 2014-01-17 Fri 23:10 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Shi Shougang" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="../assets/stylesheet.css" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/javascript" src="http://orgmode.org/mathjax/MathJax.js"></script>
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
    MathJax.Hub.Config({
        // Only one of the two following lines, depending on user settings
        // First allows browser-native MathML display, second forces HTML/CSS
        //  config: ["MMLorHTML.js"], jax: ["input/TeX"],
            jax: ["input/TeX", "output/HTML-CSS"],
        extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js",
                     "TeX/noUndefined.js"],
        tex2jax: {
            inlineMath: [ ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"], ["\\begin{displaymath}","\\end{displaymath}"] ],
            skipTags: ["script","noscript","style","textarea","pre","code"],
            ignoreClass: "tex2jax_ignore",
            processEscapes: false,
            processEnvironments: true,
            preview: "TeX"
        },
        showProcessingMessages: true,
        displayAlign: "center",
        displayIndent: "2em",

        "HTML-CSS": {
             scale: 100,
             availableFonts: ["STIX","TeX"],
             preferredFont: "TeX",
             webFont: "TeX",
             imageFont: "TeX",
             showMathMenu: true,
        },
        MMLorHTML: {
             prefer: {
                 MSIE:    "MML",
                 Firefox: "MML",
                 Opera:   "HTML",
                 other:   "HTML"
             }
        }
    });
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Google Java Style Notes</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">Homepage</a></li>
<li><a href="#sec-2">Source file basics</a>
<ul>
<li><a href="#sec-2-1">File name</a></li>
<li><a href="#sec-2-2">File encoding: UTF-8</a></li>
<li><a href="#sec-2-3">Special characters</a></li>
</ul>
</li>
<li><a href="#sec-3">Source file structure</a>
<ul>
<li><a href="#sec-3-1">License or copyright information, if present</a></li>
<li><a href="#sec-3-2">Package statement</a></li>
<li><a href="#sec-3-3">Import statements</a></li>
<li><a href="#sec-3-4">Class declaration</a></li>
</ul>
</li>
<li><a href="#sec-4">Formatting</a>
<ul>
<li><a href="#sec-4-1">Braces</a></li>
<li><a href="#sec-4-2">Block indentation: +2 spaces</a></li>
<li><a href="#sec-4-3">One statement per line</a></li>
<li><a href="#sec-4-4">Column limit: 80 or 100</a></li>
<li><a href="#sec-4-5">Line-wrapping</a></li>
<li><a href="#sec-4-6">Whitespace</a></li>
</ul>
</li>
<li><a href="#sec-5">cc</a></li>
</ul>
</div>
</div>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Homepage</h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li><a href="http://google-styleguide.googlecode.com/svn/trunk/javaguide.html">http://google-styleguide.googlecode.com/svn/trunk/javaguide.html</a>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Source file basics</h2>
<div class="outline-text-2" id="text-2">
</div><div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1">File name</h3>
<div class="outline-text-3" id="text-2-1">
<p>
The source file name consists of the case-sensitive name of the
top-level class it contains, plus the .java extension (aside from
package-info.java files).
</p>
</div>
</div>
<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2">File encoding: UTF-8</h3>
</div>
<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3">Special characters</h3>
<div class="outline-text-3" id="text-2-3">
</div><ul class="org-ul"><li>Whitespace characters<br  /><div class="outline-text-4" id="text-2-3-1">
<p>
Aside from the line terminator sequence, the <b>ASCII horizontal space
character (0x20)</b> is the only whitespace character that appears
anywhere in a source file. This implies that:
</p>

<ol class="org-ol">
<li>All other whitespace characters in string and character literals
are escaped.
</li>
<li>Tab characters are not used for indentation.
</li>
</ol>
</div>
</li>

<li>Special escape sequences<br  /><div class="outline-text-4" id="text-2-3-2">
<p>
For any character that has a special escape sequence (\b, \t, \n, \f,
\r, \", \' and \\), that sequence is used rather than the
corresponding octal (e.g. \012) or Unicode (e.g. \u000a) escape.
</p>
</div>
</li>

<li>Non-ASCII characters<br  /><div class="outline-text-4" id="text-2-3-3">
<p>
For the remaining non-ASCII characters, either the actual Unicode
character (e.g. ∞) or the equivalent Unicode escape (e.g. \u221e) is
used, depending only on which makes the code <b>easier to read and
understand</b>.
</p>
<p class="info">
Tip: in the Unicode escape case, and occasionally even when actual
Unicode characters are used, an explanatory comment can be very
helpful.
</p>
<p>
Examples:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">Example</th>
<th scope="col" class="left">Discussion</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>String unitAbbrev = "μs";</code></td>
<td class="left">Best: perfectly clear even without a comment.</td>
</tr>

<tr>
<td class="left"><code>[String unitAbbrev = "\u03bcs"; // "μs"]</code></td>
<td class="left">Allowed, but there's no reason to do this.</td>
</tr>

<tr>
<td class="left"><code>[String unitAbbrev = "\u03bcs"; // Greek letter mu, "s"]</code></td>
<td class="left">Allowed, but awkward and prone to mistakes.</td>
</tr>

<tr>
<td class="left"><code>String unitAbbrev = "\u03bcs";</code></td>
<td class="left">Poor: the reader has no idea what this is.</td>
</tr>

<tr>
<td class="left"><code>return '\ufeff' + content; // byte order mark</code></td>
<td class="left">Good: use escapes for non-printable characters, and comment if necessary.</td>
</tr>
</tbody>
</table>

<p class="info">
Tip:  Never make your code less readable simply out of fear that some
programs might not handle non-ASCII characters properly. If that
should happen, those programs are broken and they must be fixed.
</p>
</div>
</li></ul>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">Source file structure</h2>
<div class="outline-text-2" id="text-3">
<p>
A source file consists of, in order:
</p>

<ol class="org-ol">
<li>License or copyright information, if present
</li>
<li>Package statement
</li>
<li>Import statements
</li>
<li>Exactly one top-level class
</li>
</ol>

<p>
<b>Exactly one blank line</b> separates each section that is present.
</p>
</div>
<div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1">License or copyright information, if present</h3>
</div>
<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2">Package statement</h3>
<div class="outline-text-3" id="text-3-2">
<p>
The package statement is not line-wrapped. The column limit (Section
4.4, Column limit: 80 or 100) does not apply to package statements.
</p>
</div>
</div>

<div id="outline-container-sec-3-3" class="outline-3">
<h3 id="sec-3-3">Import statements</h3>
<div class="outline-text-3" id="text-3-3">
</div><ul class="org-ul"><li>No wildcard imports<br  /><div class="outline-text-4" id="text-3-3-1">
<p>
Wildcard imports, static or otherwise, <b>are not used</b>.
</p>
</div>
</li>

<li>Ordering and spacing<br  /><div class="outline-text-4" id="text-3-3-2">
<p>
Import statements are divided into the following groups, in this
order, with each group separated by a single blank line:
</p>

<ol class="org-ol">
<li>All static imports in a single group
</li>
<li><code>com.google</code> imports (only if this source file is in the com.google package space)
</li>
<li>Third-party imports, one group per top-level package, in ASCII sort order
for example: android, com, junit, org, sun
</li>
<li>java imports
</li>
<li>javax imports
</li>
</ol>
<p>
Within a group there are no blank lines, and the imported names appear
in ASCII sort order.
</p>
</div>
</li></ul>
</div>

<div id="outline-container-sec-3-4" class="outline-3">
<h3 id="sec-3-4">Class declaration</h3>
<div class="outline-text-3" id="text-3-4">
</div><ul class="org-ul"><li>Exactly one top-level class declaration<br  /><div class="outline-text-4" id="text-3-4-1">
<p>
Each top-level class resides in a source file of its own.
</p>
</div>
</li>

<li>Class member ordering<br  /><div class="outline-text-4" id="text-3-4-2">
<p>
What is important is that each class order its members in some logical
order, which its maintainer could explain if asked. For example, new
methods are not just habitually added to the end of the class, as that
would yield "chronological by date added" ordering, which is not a
logical ordering.
</p>
</div>
</li>

<li>Overloads: never split<br  /><div class="outline-text-4" id="text-3-4-3">
<p>
When a class has multiple constructors, or multiple methods with the
same name, these appear sequentially, with no intervening members
</p>
</div>
</li></ul>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4">Formatting</h2>
<div class="outline-text-2" id="text-4">
</div><div id="outline-container-sec-4-1" class="outline-3">
<h3 id="sec-4-1">Braces</h3>
<div class="outline-text-3" id="text-4-1">
</div><ul class="org-ul"><li>Braces are used where optional<br  /><div class="outline-text-4" id="text-4-1-1">
<p>
Braces are used with if, else, for, do and while statements, even when
the body is empty or contains only a single statement.
</p>
</div>
</li>

<li>Nonempty blocks: K &amp; R style<br  /><div class="outline-text-4" id="text-4-1-2">
<p>
Braces follow the Kernighan and Ritchie style for nonempty blocks and
block-like constructs:
</p>

<ul class="org-ul">
<li>No line break before the opening brace.
</li>
<li>Line break after the opening brace.
</li>
<li>Line break before the closing brace.
</li>
<li>Line break after the closing brace if that brace terminates a
statement or the body of a method, constructor or named class. For
example, there is no line break after the brace if it is followed by
else or a comma.
</li>
</ul>

<p>
Example:
</p>
<div class="org-src-container">

<pre class="src src-java"><span style="color: #00ffff;">return</span> <span style="color: #00ffff;">new</span> <span style="color: #98fb98;">MyClass</span>() {
  <span style="color: #7fffd4;">@Override</span> <span style="color: #00ffff;">public</span> <span style="color: #98fb98;">void</span> <span style="color: #87cefa;">method</span>() {
    <span style="color: #00ffff;">if</span> (condition()) {
      <span style="color: #00ffff;">try</span> {
        something();
      } <span style="color: #00ffff;">catch</span> (<span style="color: #98fb98;">ProblemException</span> <span style="color: #eedd82;">e</span>) {
        recover();
      }
    }
  }
};
</pre>
</div>
</div>
</li>

<li>Empty blocks: may be concise<br  /><div class="outline-text-4" id="text-4-1-3">
<p>
An empty block or block-like construct may be closed immediately after
it is opened, with no characters or line break in between ({}), unless
it is part of a multi-block statement
</p>

<p>
Example:
</p>
<div class="org-src-container">

<pre class="src src-java"><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">doNothing</span>() {}
</pre>
</div>
</div>
</li></ul>
</div>

<div id="outline-container-sec-4-2" class="outline-3">
<h3 id="sec-4-2">Block indentation: +2 spaces</h3>
</div>
<div id="outline-container-sec-4-3" class="outline-3">
<h3 id="sec-4-3">One statement per line</h3>
</div>
<div id="outline-container-sec-4-4" class="outline-3">
<h3 id="sec-4-4">Column limit: 80 or 100</h3>
<div class="outline-text-3" id="text-4-4">
<p>
Projects are free to choose a column limit of either 80 or 100
characters. Except as noted below, any line that would exceed this
limit must be line-wrapped.
</p>

<p>
Exceptions:
</p>

<ol class="org-ol">
<li>Lines where obeying the column limit is not possible (for example, a long URL in Javadoc, or a long JSNI method reference).
</li>
<li>package and import statements.
</li>
<li>Command lines in a comment that may be cut-and-pasted into a shell.
</li>
</ol>
</div>
</div>

<div id="outline-container-sec-4-5" class="outline-3">
<h3 id="sec-4-5">Line-wrapping</h3>
<div class="outline-text-3" id="text-4-5">
<p>
There is no comprehensive, deterministic formula showing exactly how to line-wrap in every situation. Very often there are several valid ways to line-wrap the same piece of code.
</p>
<p class="info">
Tip: extracting a method or local variable may solve the problem
without the need to line-wrap.
</p>
</div>
<ul class="org-ul"><li>Where to break<br  /><div class="outline-text-4" id="text-4-5-1">
<p>
The prime directive of line-wrapping is: prefer to break at a <b>higher
syntactic level</b>. Also:
</p>


<ol class="org-ol">
<li>When a line is broken at a non-assignment operator the break comes
before the symbol. (Note that this is not the same practice used in
Google style for other languages, such as C++ and JavaScript.)

<ul class="org-ul">
<li>This also applies to the following "operator-like" symbols: the
dot separator (.), the ampersand in type bounds (<code>&lt;T extends Foo
     &amp; Bar&gt;</code>), and the pipe in catch blocks (<code>catch (FooException |
     BarException e)</code>).
</li>
</ul>
</li>

<li>When a line is broken at an assignment operator the break typically comes after the symbol, but either way is acceptable.
<ul class="org-ul">
<li>This also applies to the "assignment-operator-like" colon in an enhanced for ("foreach") statement.
</li>
</ul>
</li>
<li>A method or constructor name stays attached to the open parenthesis (() that follows it.
</li>
<li>A comma (,) stays attached to the token that precedes it.
</li>
</ol>
</div>
</li>

<li>Indent continuation lines at least +4 spaces<br  /><div class="outline-text-4" id="text-4-5-2">
<p>
When line-wrapping, each line after the first (each continuation line)
is indented at least +4 from the original line.
</p>

<p>
When there are multiple continuation lines, indentation may be varied
beyond +4 as desired. In general, two continuation lines use the same
indentation level if and only if they begin with syntactically
parallel elements.
</p>
</div>
</li></ul>
</div>

<div id="outline-container-sec-4-6" class="outline-3">
<h3 id="sec-4-6">Whitespace</h3>
<div class="outline-text-3" id="text-4-6">
</div><ul class="org-ul"><li>Vertical Whitespace<br  /><div class="outline-text-4" id="text-4-6-1">
<p>
A single blank line appears:
</p>

<ol class="org-ol">
<li>Between consecutive members (or initializers) of a class: fields, constructors, methods, nested classes, static initializers, instance initializers.
Exception: a blank line between two consecutive fields (having no other code between them) is optional. Such blank lines are used as needed to create logical groupings of fields.
</li>
<li>Within method bodies, as needed to create logical groupings of statements.
</li>
<li>Optionally before the first member or after the last member of the class (neither encouraged nor discouraged).
</li>
<li>As required by other sections of this document (such as Section 3.3, Import statements).
</li>
</ol>

<p>
Multiple consecutive blank lines are permitted, but never required (or encouraged).
</p>
</div>
</li>

<li>Horizontal whitespace<br  /></li></ul>
</div>
</div>


<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5">cc</h2>
<div class="outline-text-2" id="text-5">
<p class="info">

</p>

<p class="warning">

</p>

<div class="org-src-container">

<pre class="src src-java"></pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Shi Shougang</p>
<p class="date">Created: 2014-01-17 Fri 23:10</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 24.3.50.1 (<a href="http://orgmode.org">Org</a> mode 8.2.3a)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
